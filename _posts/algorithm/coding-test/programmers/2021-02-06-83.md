---
title:  "[C++ë¡œ í’€ì´] ì†Œìˆ˜ ë§Œë“¤ê¸°(DFS, ì¡°í•©, next_permutation)â­â­" 

categories:
  - Programmers
tags:
  - [Algorithm, Coding Test]

toc: true
toc_sticky: true

date: 2021-02-05
last_modified_at: 2021-02-05
---
**C++**ë¡œ í’€ì´í–ˆìŠµë‹ˆë‹¤.  
ì¶œì²˜ : **í”„ë¡œê·¸ë˜ë¨¸ìŠ¤** <https://programmers.co.kr/learn/challenges>
{: .notice--warning}

# ğŸ“Œ ì†Œìˆ˜ ë§Œë“¤ê¸°

> ë‚œì´ë„ â­â­

## ğŸš€ ë¬¸ì œ

![image](https://user-images.githubusercontent.com/42318591/106908836-04724700-6743-11eb-9006-00cc1c320559.png)


<br>

## ğŸš€ ë‚´ í’€ì´ â­•

### âœˆ DFS (nC3 ì¡°í•©)

```cpp
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;

bool Prime[3001];

bool isPrime(vector<int> three){
    int sum = three[0] + three[1] + three[2];

    if (Prime[sum]) return true;
    else return false;
}

void DFS(vector<int>& nums, vector<int> three, int& answer, int start, int depth){
    if (depth == 3){
        if (isPrime(three))
            answer++;
        return;
    }

    // ğŸ‘‡ ì¡°í•©ì˜ íŠ¹ì§•
    // aê°€ ë“±ì¥í–ˆë‹¤ë©´ ê·¸ ë‹¤ìŒì—” b,c,d ì—ì„œë§Œ ë“±ì¥í•  ìˆ˜ ìˆë‹¤.
    // aëŠ” ë‹¤ì‹œëŠ” í•œë²ˆ ë“±ì¥í–ˆë‹¤ë©´ ë‹¤ì‹œëŠ” ë“±ì¥í•  ìˆ˜ ì—†ë‹¤.
    for (int i = start; i < nums.size(); i++){
        three[depth] = nums[i];
        DFS(nums, three, answer, i + 1, depth + 1);
    }
}

int solution(vector<int> nums){
    int answer = 0;

    for (int i = 2; i < 3001; i++)
        Prime[i] = true;
    for (int i = 2; i < 3001; i++){
        if (Prime[i]){
            for (int j = i * i; j < 3001; j += i)
                Prime[j] = false;
        }
    }

    vector<int> three(3);
    DFS(nums, three, answer, 0, 0);

    return answer;
}
```

> `nums.size()`ë¥¼ `n`ì´ë¼ê³  í–ˆì„ ë•Œ ìœ„ ë¬¸ì œëŠ” `nums` ì—ì„œ <u>nC3 ê°œì˜ ëª¨ë“  ì¡°í•©ì„ êµ¬í•œ í›„ ì´ ì¡°í•©ì˜ í•©ì´ ì†Œìˆ˜ì¸ì§€ë¥¼ í™•ì¸</u> í•˜ë©´ ë˜ëŠ” ë¬¸ì œë‹¤. 

ëª¨ë“  ì¡°í•©ì˜ ê²½ìš°ë¥¼ ë‹¤ êµ¬í•˜ë©´ ì‹œê°„ì´ˆê³¼ê°€ ë‚˜ì§€ ì•Šì„ê¹Œ ì‹¶ì—ˆëŠ”ë° ë‹¤í–‰íˆ ë‚˜ì§„ ì•Šì•˜ë‹¤. `nums`ì˜ ìµœëŒ€ê¸¸ì´ì¸ 1000ìœ¼ë¡œ 1000C3 êµ¬í•˜ëŠ” ì •ë„ëŠ” ì‹œê°„ì´ˆê³¼ê°€ ë‚˜ì§€ ì•ŠëŠ”ë‹¤. 

[(C++) ì¡°í•©(Combination)ì„ êµ¬í˜„í•˜ëŠ” ì—¬ëŸ¬ê°€ì§€ ë°©ë²•](https://ansohxxn.github.io/algorithm/combination/)

1. `nums`ì˜ ìµœëŒ€ ê¸¸ì´ë¥¼ ëŒ€ì¶© 3000 ìœ¼ë¡œ ì¡ê³  ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ 1 ì—ì„œ 3000 ê¹Œì§€ì˜ ì¸ë±ìŠ¤ ì¤‘ì—ì„œ ì†Œìˆ˜ì¸ ê²ƒë§Œ `True`ë¥¼ í‘œì‹œí•˜ëŠ” ë°°ì—´ `Prime`ì„ ë§Œë“ ë‹¤.
  - ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ë¥¼ ì´ìš©í•¨
2. DFS ë¥¼ í†µí•˜ì—¬ `nums`ì˜ ëª¨ë“  nC3 ê°œì˜ ì¡°í•©ì„ ì „ë¶€ ê²€ì‚¬í•œë‹¤.
  - ì™„ì„±ëœ ì´ 3ê°œì˜ ì¡°í•©ì˜ í•©ì´ ì†Œìˆ˜ë¼ë©´ `answer`ë¥¼ 1ë§Œí¼ ë”í•œë‹¤. 

- ì¡°í•©ì˜ DFS ê³¼ì • eX) [1, 2, 7, 6, 4]
  - 1 ğŸ‘‰ 12 ğŸ‘‰ **127**
  - 1 ğŸ‘‰ 12 ğŸ‘‰ **126**
  - 1 ğŸ‘‰ 12 ğŸ‘‰ **124**
  - 1 ğŸ‘‰ 17 ğŸ‘‰ **176**
  - 1 ğŸ‘‰ 17 ğŸ‘‰ **174**
  - 1 ğŸ‘‰ 16 ğŸ‘‰ **164**
  - 2 ğŸ‘‰ 76 ğŸ‘‰ **276**
  - 2 ğŸ‘‰ 74 ğŸ‘‰ **274**
  - 2 ğŸ‘‰ 64 ğŸ‘‰ **264**
  - 7 ğŸ‘‰ 76 ğŸ‘‰ **764**

ìµœì¢…ì ìœ¼ë¡œ `answer`ëŠ” ì„œë¡œ ë‹¤ë¥¸ 3ê°œë¥¼ ê³¨ë¼ ë”í–ˆì„ ë•Œ ì†Œìˆ˜ê°€ ë˜ëŠ” ëª¨ë“  ê²½ìš°ì˜ ê°œìˆ˜ê°€ ëœë‹¤.

<br>


### âœˆ (ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´)ë¡œ íš¨ìœ¨ì ìœ¼ë¡œ ì†Œìˆ˜ ì²´í¬

```cpp
bool Prime[3001];
//...

    // âœ¨ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´âœ¨
    for (int i = 2; i < 3001; i++)
        Prime[i] = true;
    for (int i = 2; i < 3001; i++){
        if (Prime[i]){
            for (int j = i * i; j < 3001; j += i)
                Prime[j] = false;
        }
    }
```

> ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ ğŸ‘‰ ì´ˆê¸°í™”ë¥¼ ì‹¹ `true`ë¡œ ì‹œì‘í•œ í›„, ëª¨ë“  ë°°ìˆ˜ë“¤ì„ ì „ë¶€ `false` ì²˜ë¦¬í•´ ë‚˜ê°„ë‹¤. ìµœì¢…ì ìœ¼ë¡œ ì†Œìˆ˜ì¸ ê²ƒë§Œ `true`ê°€ ë˜ê²Œë”!

- ëª¨ë“  ìˆ˜ì— ì¼ë‹¨ `true`ë¥¼ ì²´í¬í•œë‹¤. 
- 2 ë¶€í„° ì°¨ë¡€ ì°¨ë¡€ ê²€ì‚¬í•œë‹¤.
  - `true` ì²´í¬ë˜ì–´ ìˆëŠ” ìˆ˜ë¼ë©´ ì†Œìˆ˜ë‹¤. 
    - ê·¸ ì†Œìˆ˜ì˜ ì œê³±ë“¤ì„ ì „ë¶€ `false`ë¡œ ì²´í¬í•œë‹¤. (ì•½ìˆ˜ì— ê·¸ ì†Œìˆ˜ê°€ í¬í•¨ëœë‹¤ëŠ” ê²ƒì´ë¯€ë¡œ.)
      - ex) 5ëŠ” ì†Œìˆ˜ë‹ˆê¹Œ 25ë¶€í„° ì‹œì‘í•˜ì—¬ 25, 125, 625, .... ì „ë¶€ ì†Œìˆ˜ ì•„ë‹Œ ê²ƒìœ¼ë¡œ ì²´í¬í•¨.
      - ex) 2ëŠ” ì†Œìˆ˜ë‹ˆê¹Œ 2ë¥¼ ì œì™¸í•œ ëª¨ë“  ì§ìˆ˜ëŠ” ì†Œìˆ˜ ì•„ë‹Œ ê²ƒìœ¼ë¡œ ì²´í¬ë¨.

<br>

## ğŸš€ ë‹¤ë¥¸ í’€ì´

### âœˆ ë°˜ë³µë¬¸ í’€ì´

```cpp
#include <vector>
#include <iostream>
#include <algorithm>

using namespace std;

bool Prime[3001];
int solution(vector<int> nums) {
    int answer = 0;

    for (int i = 2; i < 3001; i++)
        Prime[i] = true;
    for (int i = 2; i < 3001; i++){
        if (Prime[i]){
            for (int j = i * i; j < 3001; j += i)
                Prime[j] = false;
        }
    }

    for(int i = 0; i < nums.size(); i++)
        for(int j = i + 1; j < nums.size(); j++)
            for(int k = j + 1; k < nums.size(); k++){
                if(Prime[nums[i] + nums[j] + nums[k]])
                    answer++;
            }
    return answer;
}
```

ì–´ì°¨í”¼ ë”± 3ê°œë§Œ ë½‘ëŠ” ê²ƒì´ë¯€ë¡œ 3ì¤‘ forë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ë½‘ì„ ìˆ˜ë„ ìˆë‹¤. "ABCDE"ë¥¼ ì˜ˆì‹œë¡œ ë“¤ìë©´ ì²« ë²ˆì§¸ì—ì„œ A ë¥¼ ë½‘ì•˜ê³  B ë¥¼ ë½‘ì§€ ì•Šê¸°ë¡œ í–ˆë‹¤ë©´ ê·¸ ë‹¤ìŒì€ CDE ì—ì„œ 2ê°œë¥¼ ë½‘ì•„ì•¼ í•œë‹¤. Cë¥¼ ë½‘ê³  Dë¥¼ ë½‘ì§€ ì•Šê¸°ë¡œ í–ˆë‹¤ë©´ Eë¥¼ ë½‘ëŠ”ë‹¤. ì¦‰, <u>ë½‘ë“  ì•ˆë½‘ë“  í•œë²ˆ ê²°ì •í•˜ê³  ì§€ë‚˜ê°„ ê²ƒì€ ë‹¤ì‹  ë³´ì§€ ì•ŠëŠ”ë‹¤.</u> **ë”°ë¼ì„œ ë‘ë²ˆì§¸ forë¬¸ì˜ ë°˜ë³µì€ ì²«ë²ˆì§¸ forë¬¸ì—ì„œ ì‚´í•€ ê²ƒì˜ ë‹¤ìŒ ê²ƒ(i + 1)ë¶€í„°, ì„¸ë²ˆì§¸ forë¬¸ì˜ ë°˜ë³µì€ ë‘ë²ˆì¬ forë¬¸ì—ì„œ ì‚´í•€ ê²ƒì˜ ë‹¤ìŒ ê²ƒ(j + 1)ë¶€í„° ëŒë¦¬ë©´ ëœë‹¤.** 

<br>

### âœˆ next_permutation ì‚¬ìš©

```cpp
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;

bool Prime[3001];

int solution(vector<int> nums) {
    int answer = 0;

    for (int i = 2; i < 3001; i++)
        Prime[i] = true;
    for (int i = 2; i < 3001; i++){
        if (Prime[i]){
            for (int j = i * i; j < 3001; j += i)
                Prime[j] = false;
        }
    }
    
    int sum = 0;

    vector<bool> comb_bool(nums.size(), true);
    for(int i = 0; i < nums.size() - 3; i++)
        comb_bool[i] = false;
    
    do{
        sum = 0;
        for(int i = 0; i < comb_bool.size(); i++){
            if (comb_bool[i])
                sum += nums[i];
        }
        
        if (Prime[sum]) 
            answer++;
        
    }while(next_permutation(comb_bool.begin(), comb_bool.end()));

    return answer;
}
```
```cpp
    // nC3 ì¡°í•© êµ¬í•˜ê¸° 
    int sum = 0;
    vector<bool> comb_bool(nums.size(), true); // 3ê°œì˜ trueë¥¼ ë’¤ì— 
    for(int i = 0; i < nums.size() - 3; i++)
        comb_bool[i] = false;
    
    do{
        sum = 0;
        for(int i = 0; i < comb_bool.size(); i++){
            if (comb_bool[i]) // trueì™€ ì¼ì¹˜í•˜ëŠ” ê²ƒ
                sum += nums[i];
        }
        
        if (Prime[sum]) 
            answer++;
        
    }while(next_permutation(comb_bool.begin(), comb_bool.end()));
```

ìˆœì„œ ì‹ ê²½ ì•ˆì“°ê³  `next_permutation`ì„ ì‚¬ìš©í•œ ì¡°í•© êµ¬í˜„. ì–´ì°¨í”¼ 3 ê°œ ì¡°í•©ì˜ í•©ë§Œ êµ¬í•˜ë©´ ë˜ë‹ˆê¹Œ ìˆœì„œëŠ” ì¤‘ìš”ì¹˜ ì•Šì•„ `true` 3ê°œë¥¼ ë’¤ì—ë‹¤ ë°°ì¹˜.

`next_permutation`ìœ¼ë¡œ ì¡°í•©ì„ êµ¬í˜„í•˜ëŠ” ìì„¸í•œ ì„¤ëª…ì€ [ì´ í¬ìŠ¤íŠ¸ ì°¸ê³ ](https://ansohxxn.github.io/algorithm/combination/#stl-next_permutation%EC%9C%BC%EB%A1%9C-%EC%A1%B0%ED%95%A9-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0)

<br>

### âœˆ prev_permutation ì‚¬ìš©

```cpp
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;

bool Prime[3001];

int solution(vector<int> nums) {
    int answer = 0;

    for (int i = 2; i < 3001; i++)
        Prime[i] = true;
    for (int i = 2; i < 3001; i++){
        if (Prime[i]){
            for (int j = i * i; j < 3001; j += i)
                Prime[j] = false;
        }
    }
    
    int sum = 0;
    vector<bool> comb_bool(nums.size(), false);
    for(int i = 0; i < 3; i++)
        comb_bool[i] = true;
    
    do{
        sum = 0;
        for(int i = 0; i < comb_bool.size(); i++){
            if (comb_bool[i])
                sum += nums[i];
        }
        
        if (Prime[sum]) 
            answer++;
        
    }while(prev_permutation(comb_bool.begin(), comb_bool.end()));

    return answer;
}
```
```cpp
    int sum = 0;
    vector<bool> comb_bool(nums.size(), false);
    for(int i = 0; i < 3; i++) // ì•ì— 3ê°œë¥¼ trueë¡œ
        comb_bool[i] = true;
    
    do{
        sum = 0;
        for(int i = 0; i < comb_bool.size(); i++){
            if (comb_bool[i])
                sum += nums[i];
        }
        
        if (Prime[sum]) 
            answer++;
        
    }while(prev_permutation(comb_bool.begin(), comb_bool.end()));
```

`prev_permutation`ìœ¼ë¡œ ì¡°í•©ì„ êµ¬í˜„í•˜ëŠ” ìì„¸í•œ ì„¤ëª…ì€ [ì´ í¬ìŠ¤íŠ¸ ì°¸ê³ ](https://ansohxxn.github.io/algorithm/combination/#stl-prev_permutation%EC%9C%BC%EB%A1%9C-%EC%A1%B0%ED%95%A9-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0)

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}