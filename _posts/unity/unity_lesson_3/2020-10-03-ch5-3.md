---
title:  "Chapter 5-3. ì¸ë²¤í† ë¦¬ ë“œë˜ê·¸ ì•¤ ë“œë¡­, UnityEngine.EventSystems" 

categories:
  -  Unity Lesson 3 
tags:
  - [Game Engine, Unity]

toc: true
toc_sticky: true

date: 2020-10-03
last_modified_at: 2020-10-03
---

# Chapter 5. ì¸ë²¤í† ë¦¬

<br>

## ğŸš– ì¸ë²¤í† ë¦¬ì—ì„œ ìš°í´í•˜ë©´ ì¥ì°© ë° ì†Œë¹„

- ìŠ¬ë¡¯ì— ìˆëŠ” ì•„ì´í…œ ìš°í´
  - ë¬´ê¸°ë¼ë©´ í•´ë‹¹ ë¬´ê¸°ë¡œ ì¥ì°©
  - ê·¸ëƒ¥ ì•„ì´í…œì´ë¼ë©´ ì†Œë¹„

### ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸

```c#
using UnityEngine.EventSystems;
public class Slot : MonoBehaviour, IPointerClickHandler
{
    // ì˜¤ë²„ë¼ì´ë”© í•˜ê¸°
}
```

- `IPointerClickHandler` ì¸í„°í˜ì´ìŠ¤
  - ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì† ë°›ì€ ìŠ¤í¬ë¦½íŠ¸ë¼ë©´ ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.
  - ë§ˆìš°ìŠ¤ í´ë¦­ ë  ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ í•¨ìˆ˜ë¥¼ ì˜¤ë²„ë¼ì´ë”© í•´ì•¼ í•œë‹¤. 
    - *<u>OnPointerClick</u>(PointerEventData eventData)*
      - <u>ì´ ìŠ¤í¬ë¦½íŠ¸ê°€ ë¶™ì€ ì˜¤ë¸Œì íŠ¸ì— ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸</u> ë°œìƒì‹œ í˜¸ì¶œ
- *ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ - ìš°í´ - ë¹ ë¥¸ ì‘ì—… ë° ë¦¬íŒ©í„°ë§*
  - *ì˜¤ë²„ë¼ì´ë”© í•´ì•¼ í•  í•¨ìˆ˜ë“¤ì˜ ìë™ìœ¼ë¡œ ì¨ì£¼ì–´ì„œ í¸í•˜ë‹¤.*

- EventSystem
  - ì´ë²¤íŠ¸ì— ëŒ€í•œ RaycastëŠ” Canvasì˜ Graphic Raycaster ì»´í¬ë„ŒíŠ¸ì—ì„œ ì´ì£¼ê³ 
  - ì–´ë–¤ ì¢…ë¥˜ì˜ ì´ë²¤íŠ¸ì¸ì§€ì— ëŒ€í•œ ë‹µì„ Raycast ë¡œ ì´ì£¼ëŠ”ê±´ `EventSystem` ì˜¤ë¸Œì íŠ¸ì´ë‹¤.
  - ì´ ì´ë²¤íŠ¸ì— ëŒ€í•œ Raycastë¥¼ ë°›ê¸° ìœ„í•´ì„  UIë“¤ì€ `Raycast Target` ê°€ ì²´í¬ ë˜ì–´ ìˆì–´ì•¼ í•˜ë©° ì¼ë°˜ ì˜¤ë¸Œì íŠ¸ë“¤ì€ Collider ê°€ ë¶™ì–´ ìˆì–´ì•¼ í•œë‹¤.


<br>

### ğŸ“œSlot.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using UnityEngine.EventSystems;

public class Slot : MonoBehaviour, IPointerClickHandler, IBeginDragHandler, IDragHandler, IEndDragHandler, IDropHandler
{
    // ... 

    private WeaponManager theWeaponManager;

    void Start()
    {
        theWeaponManager = FindObjectOfType<WeaponManager>();
    }

    // ... 

    public void OnPointerClick(PointerEventData eventData)
    {
        if(eventData.button == PointerEventData.InputButton.Right)
        {
            if (item != null)
            {
                if(item.itemType == Item.ItemType.Equipment)
                {
                    // ì¥ì°©
                    StartCoroutine(theWeaponManager.ChangeWeaponCoroutine(item.weaponType, item.itemName));
                }
                else
                {
                    // ì†Œë¹„
                    Debug.Log(item.itemName + " ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.");
                    SetSlotCount(-1);
                }
            }
        }
    }
}
```

- `theWeaponManager`ì„ [SerializeField]ë¥¼ ì‚¬ìš©í•˜ì—¬ ì§ì ‘ í• ë‹¹í•˜ì§€ ì•Šê³  *FindObjectOfType* ë¡œ í• ë‹¹ í•´ì¤€ ì´ìœ 
  - ê²Œì„ ë„ì¤‘ Instantiate ë  ì˜ˆì •ì¸ ğŸŸ¦í”„ë¦¬íŒ¹ë“¤ì€ [SerializeField] ì¸ ê²ƒë“¤ì€ ìê¸° ìì‹  ì•ˆì— ìˆëŠ” ê°ì²´(í”„ë¦¬íŒ¹)ë“¤ë§Œ ì°¸ì¡° ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ì–´ì°¨í”¼ ê²Œì„ì´ ì‹œì‘ë˜ë©´ Noneì´ ë˜ë²„ë ¤ì„œ ê·¸ë ‡ë‹¤.
  - ì´ ìŠ¤í¬ë¦½íŠ¸ ğŸ“œSlot.csê°€ ë¶™ëŠ” ëŒ€ìƒì€ ğŸŸ¦í”„ë¦¬íŒ¹ì¸ `Slot` ë“¤ì´ë‹¤. 
    - ê²Œì„ ì‹œì‘ì „ì— ë°°ì¹˜ ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ê°€ ì•„ë‹ˆë¼ ì¸ë²¤í† ë¦¬ë¥¼ í™œì„±í™” í•´ì•¼ë§Œ ìƒì„±ë˜ëŠ” ì• ë“¤ì´ê¸° ë•Œë¬¸ì— ê²Œì„ ì‹œì‘ ì „ì— [SerializeField]ì¸ ë©¤ë²„ì— ë‹¤ë¥¸ íƒ€ ì˜¤ë¸Œì íŠ¸ë¥¼ í• ë‹¹í•˜ë©´ ì–´ì°¨í”¼ ê²Œì„ ì‹œì‘ ë˜ë”ë¼ë„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ê³  Noneì´ ë˜ì–´ë²„ë¦°ë‹¤.
  - ì•„ì§ ì—ì…‹ìœ¼ë¡œë§Œ ì¡´ì¬í•˜ê³  ì˜¤ë¸Œì íŠ¸í™” ë˜ì§€ ì•Šì€ í”„ë¦¬íŒ¹ì—ì„  Hierarchyì— ìˆëŠ” ì˜¤ë¸Œì íŠ¸ë“¤ì„ serializefiled ìŠ¬ë¡¯ì— ë„£ì„ ìˆ˜ ì—†ë‹¤. (ë„£ì„ ìˆœ ìˆê¸´ í•˜ì§€ë§Œ ê²Œì„ ì‹œì‘ë˜ë©´ Noneì´ ë˜ì–´ë²„ë¦°ë‹¤.)
  - Hierarchyì— ìˆëŠ” ê²ƒë“¤ì„ serializefieldì— ë„£ì–´ ë´¤ì ì†Œìš© ì—†ë‹¤. í”„ë¦¬íŒ¹ì´ë‹ˆê¹Œ.
  - ë¬¼ë¡  ì´ë¯¸ Hierarchyì— êº¼ë‚´ë†“ì€ í”„ë¦¬íŒ¹ ì¦‰ ì´ë¯¸ ì˜¤ë¸Œì íŠ¸í™” ë˜ìˆëŠ”ê±´ ìƒê´€ X Instantiateìœ¼ë¡œ ìƒì„±í•  ê²½ìš°ì˜ ì–˜ê¸°
- ë”°ë¼ì„œ ìœ„ì™€ ê°™ì´ ê²Œì„ì´ ì‹œì‘ë˜ë©´ `theWeaponManager`ì„ *FindObjectOfType* ë¡œ ì°¾ì•„ ğŸ“œWeaponManager.cs ë¥¼ ê°€ì§„ ì˜¤ë¸Œì íŠ¸ë¥¼ í• ë‹¹í•´ì£¼ëŠ” ê²ƒì´ë‹¤.

<br>

> ğŸ“œSlot.cs ê°€ ë¶™ì–´ ìˆëŠ” ì˜¤ë¸Œì íŠ¸ì— (`Slot`ì—) ë§ˆìš°ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ *OnPointerClick* ì´ë²¤íŠ¸ í•¨ìˆ˜ê°€ ìë™ ì‹¤í–‰ëœë‹¤.

- `PointerEventData`
  - ë§ˆìš°ìŠ¤ í˜¹ì€ í„°ì¹˜ ì…ë ¥ ì´ë²¤íŠ¸ì— ê´€í•œ ì •ë³´ë“¤ì´ ë‹´ê²¨ ìˆë‹¤. ì´ë²¤íŠ¸ê°€ ë“¤ì–´ì˜¨ ë²„íŠ¼, í´ë¦­ ìˆ˜, ë§ˆìš°ìŠ¤ ìœ„ì¹˜, í˜„ì¬ ë§ˆìš°ìŠ¤ ì›€ì§ì´ê³  ìˆëŠ”ì§€ ì—¬ë¶€ ë“±ë“± ì—¬ëŸ¬ê°€ì§€ë¥¼ ë‹´ê³  ìˆë‹¤
- í•´ë‹¹ ìŠ¬ë¡¯ì— ë§ˆìš°ìŠ¤ ìš°í´ë¦­ ì´ë²¤íŠ¸ê°€ ë“¤ì–´ ì˜¤ë©´
  ```c#
  if(eventData.button == PointerEventData.InputButton.Right)
  ``` 
  - í•´ë‹¹ ì•„ì´í…œì´ ë¬´ê¸°ë¼ë©´ 
    - ğŸ‘‰ ì¥ì°©í•œë‹¤. 
      - ğŸ“œWeaponManager.cs ì˜ *ChangeWeaponCoroutine* í•¨ìˆ˜ ì‹¤í–‰
  - í•´ë‹¹ ì•„ì´í…œì´ ë¬´ê¸°ê°€ ì•„ë‹ˆë¼ë©´
    - ğŸ‘‰ ì†Œë¹„í•œë‹¤.
      - í•´ë‹¹ ìŠ¬ë¡¯ì˜ ì•„ì´í…œ ê°¯ìˆ˜ 1 ê°ì†Œ ì‹œí‚¤ê¸° *SetSlotCount(-1)*
        - ì•Œì•„ì„œ ì´ í•¨ìˆ˜ ì•ˆì—ì„œ ìŠ¬ë¡¯ì˜ ì•„ì´í…œ ê°œìˆ˜ê°€ 0 ê°œ ì´í•˜ë©´ í•´ë‹¹ ìŠ¬ë¡¯ì„ í´ë¦¬ì–´ ì‹œí‚¤ëŠ” *ClearSlot()* í•¨ìˆ˜ë„ í˜¸ì¶œ í•œë‹¤.

<br>

## ğŸš– ì¸ë²¤í† ë¦¬ ë“œë˜ê·¸

ì¸ë²¤í† ë¦¬ì˜ ìŠ¬ë¡¯ì— ìˆëŠ” ì•„ì´í…œì„ ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•˜ë©´ ìŠ¬ë¡¯ì— ë“  ì•„ì´í…œì˜ ìœ„ì¹˜ë¥¼ ë‹¤ë¥¸ ìŠ¬ë¡¯ìœ¼ë¡œ ë°”ê¿€ ìˆ˜ ìˆê²Œ í•œë‹¤. ì´ë¯¸ ë‹¤ë¥¸ ì•„ì´í…œì´ ìˆëŠ” ìœ„ì¹˜ì— ë“œë˜ê·¸ ì•¤ ë“œë¡­ í•˜ë©´ ë‘ ì•„ì´í…œ ìœ„ì¹˜ë¥¼ ë§ë°”ê¾¼ë‹¤.

<br>

### DragSlot

![image](https://user-images.githubusercontent.com/42318591/94987282-2f376d80-05a0-11eb-9d8a-c8801c211aa3.png)

> ìŠ¬ë¡¯ì„ ë“œë˜ê·¸ í•  ë•Œ ê³ ë ¤í•´ì•¼ í•  ì 

1. ìœ„ ì‚¬ì§„ê³¼ ê°™ì´ ë“œë˜ê·¸ í•˜ë ¤ëŠ” ìŠ¬ë¡¯ì´ ë‹¤ë¥¸ ìŠ¬ë¡¯ë“¤ ë³´ë‹¤ ë’¤ì— ê°€ë ¤ì§„ë‹¤. ë³´ê¸° ì•ˆì¢‹ìŒ!
  - ì´ìœ  ğŸ‘‰ <u>UI ìš”ì†Œë“¤ì˜ ë Œë”ë§ ìˆœì„œëŠ” Hierarchy ìƒì—ì„œ ìœ„ì— ìˆëŠ” UI ë¶€í„° ë Œë”ë§ ë˜ì–´ì„œ ê·¸ë ‡ë‹¤.</u> ì²«ë²ˆì§¸ ìŠ¬ë¡¯ì€ Hierarchy ìƒì—ì„œ ìŠ¬ë¡¯ë“¤ ì¤‘ ê°€ì¥ ìœ„ì— ìˆê¸° ë•Œë¬¸ì— ê°€ì¥ ë¨¼ì € ê·¸ë ¤ì§„ë‹¤. ë”°ë¼ì„œ ìœ„ì™€ ê°™ì´ ì²« ë²ˆì§¸ ìŠ¬ë¡¯ì„ ë“œë˜ê·¸ í•˜ë©´, ì œì¼ ë¨¼ì € ê·¸ë ¤ì§€ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ìŠ¬ë¡¯ë“¤ ë³´ë‹¤ ë’¤ì—ì„œ ê·¸ë ¤ì§€ëŠ” ê²ƒì´ë‹¤. 
2. ë“œë˜ê·¸ í•œ ìŠ¬ë¡¯ì˜ ì›ë˜ ìë¦¬ëŠ” ë¹„ì›Œì§„ë‹¤. ë³´ê¸° ì•ˆì¢‹ìŒ!
  - ë“œë˜ê·¸ í•œ ìŠ¬ë¡¯ì€ ë‹¤ë¥¸ ê³µê°„ì— ë³µì‚¬ë  í•„ìš”ê°€ ìˆë‹¤. 
  - ì›ë˜ ìŠ¬ë¡¯ë„ ê·¸ëŒ€ë¡œ ê·¸ë ¤ì§€ê³  ì‚¬ë³¸ ìŠ¬ë¡¯ì´ ë“œë˜ê·¸ ë˜ë„ë¡.

![image](https://user-images.githubusercontent.com/42318591/94987600-6e66be00-05a2-11eb-88c2-a14f170c4c70.png)

- ìœ„ì™€ ê°™ì´ 1ï¸âƒ£ ë’¤ì— ê°€ë ¤ì§€ì§€ë„ ì•Šê³  2ï¸âƒ£ ì›ë˜ ìë¦¬ê°€ ë¹„ì›Œì§€ì§€ ì•Šë„ë¡ í•˜ë ¤ë©´
  - 1ï¸âƒ£ ë‹¤ë¥¸ ìŠ¬ë¡¯ë“¤ë³´ë‹¤ ë¨¼ì € ê·¸ë ¤ì ¸ì•¼ í•œë‹¤. Hierarchy ìƒì—ì„œ ìœ„ì— ìœ„ì¹˜ í•˜ë„ë¡ í•´ì•¼ í•œë‹¤.
  - 2ï¸âƒ£ ë“œë˜ê·¸ ëœ ìŠ¬ë¡¯ì€ ì‚¬ë³¸ìœ¼ë¡œ ë§Œë“¤ì–´ì•¼ í•œë‹¤.

![image](https://user-images.githubusercontent.com/42318591/94991621-49cd0f00-05bf-11eb-9059-f6d4ad32b545.png)

- `DragSlot` ì´ë¼ëŠ” ì´ë¦„ì˜ ì´ë¯¸ì§€ UI ë¥¼ `Inventory_Base` ìì‹ìœ¼ë¡œ ì¶”ê°€í•œë‹¤.
  - 1ï¸âƒ£ `Grid Setting` ë³´ë‹¤ ì•„ë˜ì— ìœ„ì¹˜í•˜ë„ë¡ í•œë‹¤.
    - ë‹¤ë¥¸ ìŠ¬ë¡¯ë“¤ ë³´ë‹¤ ë‚˜ì¤‘ì— ê·¸ë ¤ì ¸ ë’¤ì— ë¬»íˆì§€ ì•Šë„ë¡
  - 2ï¸âƒ£ ë“œë˜ê·¸ ëœ ìŠ¬ë¡¯ì€ ì´ `DragSlot`ì—ì„œ ì‚¬ë³¸ìœ¼ë¡œì„œ ì°¸ì¡° ë˜ë„ë¡ í•œë‹¤. 
- ì´ ë˜í•œ ë‹¤ë¥¸ `Slot`ì˜ `Item_Image`ë“¤ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ íˆ¬ëª…ë„ 0 ê°’ì„ ê¸°ë³¸ìœ¼ë¡œ í•´ë‘”ë‹¤.
  - ë“œë˜ê·¸ í•  ë•Œë§Œ ë³´ì—¬ì•¼ í•˜ëŠ” ì´ë¯¸ì§€ ì´ë¯€ë¡œ (ìŠ¬ë¡¯ì˜ ì‚¬ë³¸ìœ¼ë¡œì„œ)
- ì‚¬ì´ì¦ˆë¥¼ ìŠ¬ë¡¯ê³¼ ë™ì¼í•˜ê²Œ í•´ ì¤€ë‹¤.


<br>

### ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ ì´ë²¤íŠ¸ 

```c#
using UnityEngine;
using UnityEngine.EventSystems;
public class Test : MonoBehaviour, IBeginDragHandler, IDragHandler, IEndDragHandler
{
    public void OnBeginDrag(PointerEventData eventData)
    {
        // ì˜¤ë²„ë¼ì´ë”© í•˜ê¸°
    }

    public void OnDrag(PointerEventData eventData)
    {
        // ì˜¤ë²„ë¼ì´ë”© í•˜ê¸°
    }

    public void OnEndDrag(PointerEventData eventData)
    {
        // ì˜¤ë²„ë¼ì´ë”© í•˜ê¸°
    }
}
```

- `IBeginDragHandler` ì¸í„°í˜ì´ìŠ¤
  - *<u>OnBeginDrag</u>(PointerEventData eventData)*
    - ì´ ìŠ¤í¬ë¦½íŠ¸ê°€ ë¶™ì€ <u>ì˜¤ë¸Œì íŠ¸ë¥¼ ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ë¥¼ ì‹œì‘ í–ˆì„ ë•Œ</u> í˜¸ì¶œ
- `IDragHandler` ì¸í„°í˜ì´ìŠ¤
  - *<u>OnDrag</u>(PointerEventData eventData)*
    - ì´ ìŠ¤í¬ë¦½íŠ¸ê°€ ë¶™ì€ <u>ì˜¤ë¸Œì íŠ¸ë¥¼ ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ ì¤‘ì¸ ë™ì•ˆ ê³„ì†</u> í˜¸ì¶œ
- `IEndDragHandler` ì¸í„°í˜ì´ìŠ¤
  - *<u>OnEndDrag</u>(PointerEventData eventData)*
    - ì´ ìŠ¤í¬ë¦½íŠ¸ê°€ ë¶™ì€ <u>ì˜¤ë¸Œì íŠ¸ë¥¼ ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ í•˜ëŠ” ê²ƒì„ ëëƒˆì„ ë•Œ</u> í˜¸ì¶œ  

<br>

### ğŸ“œDragSlot.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;

public class DragSlot : MonoBehaviour
{
    static public DragSlot instance;
    public Slot dragSlot;

    [SerializeField]
    private Image imageItem;

    void Start()
    {
        instance = this;
    }

    public void DragSetImage(Image _itemImage)
    {
        imageItem.sprite = _itemImage.sprite;
        SetColor(1);
    }

    public void SetColor(float _alpha)
    {
        Color color = imageItem.color;
        color.a = _alpha;
        imageItem.color = color;
    }
}

```

![image](https://user-images.githubusercontent.com/42318591/94991652-6e28eb80-05bf-11eb-9756-8705b29c740a.png)

<br>

### ğŸ“œSlot.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UI;
using UnityEngine.EventSystems;

public class Slot : MonoBehaviour, IPointerClickHandler, IBeginDragHandler, IDragHandler, IEndDragHandler, IDropHandler
{
    //...

    // ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ê°€ ì‹œì‘ ëì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸
    public void OnBeginDrag(PointerEventData eventData)
    {
        if(item != null)
        {
            DragSlot.instance.dragSlot = this;
            DragSlot.instance.DragSetImage(itemImage);
            DragSlot.instance.transform.position = eventData.position;
        }
    }

    // ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ ì¤‘ì¼ ë•Œ ê³„ì† ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸
    public void OnDrag(PointerEventData eventData)
    {
        if (item != null)
            DragSlot.instance.transform.position = eventData.position;
    }

    // ë§ˆìš°ìŠ¤ ë“œë˜ê·¸ê°€ ëë‚¬ì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸
    public void OnEndDrag(PointerEventData eventData)
    {
        DragSlot.instance.SetColor(0);
        DragSlot.instance.dragSlot = null;
    }
}
```



<br>

## ğŸš– ì¸ë²¤í† ë¦¬ ë“œë¡­

### ğŸ“œSlot.cs

```c#
    // í•´ë‹¹ ìŠ¬ë¡¯ì— ë¬´ì–¸ê°€ê°€ ë§ˆìš°ìŠ¤ ë“œë¡­ ëì„ ë•Œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸
    public void OnDrop(PointerEventData eventData)
    {
        if (DragSlot.instance.dragSlot != null)
            ChangeSlot();
    }
    
    private void ChangeSlot()
    {
        Item _tempItem = item;
        int _tempItemCount = itemCount;

        AddItem(DragSlot.instance.dragSlot.item, DragSlot.instance.dragSlot.itemCount);

        if (_tempItem != null)
            DragSlot.instance.dragSlot.AddItem(_tempItem, _tempItemCount);
        else
            DragSlot.instance.dragSlot.ClearSlot();
    }
```


<br>

### ë§ˆìš°ìŠ¤ ì¶©ëŒ ê°€ë¦¬ì§€ ì•Šê²Œ

ìœ„ê¹Œì§€ í•´ë„, ìŠ¬ë¡¯ì„ ì•„ë¬´ë¦¬ ë“œë˜ê·¸ í•´ë„ ìŠ¬ë¡¯ êµì²´ê°€ ì œëŒ€ë¡œ ì´ë£¨ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤. ê·¸ ì´ìœ ëŠ” ë“œë¡­ ë˜ëŠ” ìœ„ì¹˜ì˜ ëŒ€ìƒì´ ìŠ¬ë¡¯ì˜ *OnDrop* ê°€ ì œëŒ€ë¡œ í˜¸ì¶œë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤. â­ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸ í•˜ì—¬ ì˜®ê¸°ëŠ” ê³¼ì •ì—ì„œ `DropSlot` ì´ë¯¸ì§€ê°€ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ Raycastë¥¼ ëŒ€ì‹  ë°›ì•„ ë²„ë¦¬ê¸° ë•Œë¬¸ì—, `DropSlot` ë’¤ì— ìˆëŠ” ë“œë¡­ ë˜ëŠ” ìœ„ì¹˜ì˜ ëŒ€ìƒì´ ë˜ëŠ” `Slot` ì´ë¯¸ì§€ê°€ ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ë¥¼ ë°›ì§€ ëª»í•˜ì—¬ *OnDrop* ê°€ ì œëŒ€ë¡œ í˜¸ì¶œë˜ì§€ ì•Šì•˜ë˜ ê²ƒì´ë‹¤.

![image](https://user-images.githubusercontent.com/42318591/94991821-77668800-05c0-11eb-8663-9abfa7ba78dc.png)

ì²´í¬ ëœ ë§ˆìš°ìŠ¤ë¥¼ ë†“ê³  ë“œë¡­ í•´ì£¼ì–´ì•¼ë§Œ, ì¦‰ ì§ì ‘ ë“œë¡­ ìœ„ì¹˜ê°€ ë˜ëŠ” `Slot`ì—ë‹¤ê°€ ì§ì ‘ ë§ˆìš°ìŠ¤ë¥¼ ëŒ€ê³  ë“œë¡­í•´ì£¼ì–´ì•¼ë§Œì´ ê·¸ ìŠ¬ë¡¯ì˜ *OnDrop*ì´ í˜¸ì¶œ ë  ìˆ˜ ìˆì—ˆë‹¤. ê·¼ë° ì‚¬ì‹¤ìƒ `DropSlot`ë¥¼ ë“œë˜ê·¸ í•´ì˜¤ê¸° ë•Œë¬¸ì— `DropSlot`ê°€ ê°€ë ¤ë²„ë¦¬ê¸° ì‰½ìƒ..

![image](https://user-images.githubusercontent.com/42318591/94991799-556d0580-05c0-11eb-98c7-ffb5210b6de8.png)

- `Raycast Target`ì„ í•´ì œ í•´ì£¼ë©´ í•´ê²° ëœë‹¤.
  - ì´ê²Œ ì²´í¬ ë˜ë©´ ë§ˆìš°ìŠ¤ì˜ ì¶©ëŒì„ ë°©í•´í•œë‹¤.
  - ì´ë¯¸ì§€ê°€ ëŒ€ì‹  ì¶©ëŒ ë¨
  - ìŠ¬ë¡¯ì´ ë§ˆìš°ìŠ¤ì™€ ë‹¿ì•„ì•¼ í•˜ëŠ”ë°
  - ë“œë¡­ë˜ëŠ” ìª½ì˜ ìŠ¬ë¡¯ì´ ì•„ë‹ˆë¼ ì§€ê¸ˆ ë“œë˜ê·¸ í•˜ê³  ìˆëŠ” ìŠ¬ë¡¯ê³¼ ìê¾¸ ì¶©ëŒí•˜ì—¬ ë°©í•´
  - ë§ˆìš°ìŠ¤ê°€ ìê¾¸ ë“œë˜ê·¸ ìŠ¬ë¡¯ê³¼ ì¶©ëŒí•˜ì—¬ ë“œë¡­ë˜ëŠ” ìª½ì˜ ìŠ¬ë¡¯ê³¼ ë§ˆìš°ìŠ¤ ì¶©ëŒì´ ì¼ì–´ë‚˜ì§€ ì•Šì•„ì„œ.
  - ë§ˆìš°ìŠ¤ ì¶©ëŒì´ ë’¤ì— ìˆëŠ” ì´ë¯¸ì§€ì—ì„œ ì¼ì–´ë‚˜ë„ë¡


<br>

## ğŸš– ì¸ë²¤í† ë¦¬ í™œì„±í™” ë˜ë©´ ê³µê²© ì¹´ë©”ë¼ íšŒì „ ë“±ë“± ë¹„í™œì„±í™”

### ğŸ“œPlyaerController.cs

```c#
    void Update()  
    {
        IsGround();
        TryJump();
        TryRun();
        TryCrouch();
        Move();
        MoveCheck();
        if(!Inventory.invectoryActivated)
        {
            CameraRotation();
            CharacterRotation();
        }
    }
```

<br>


### ğŸ“œWeaponSway.cs

```c#
    void Update()
    {
        if (!Inventory.invectoryActivated)
            TrySway();
    }
```

<br>


### ğŸ“œCloseWeaponController.cs

```c#
    protected void TryAttack()
    {
        if (!Inventory.invectoryActivated)
        {
            if (Input.GetButton("Fire1"))
            {
                if (!isAttack)
                {
                    if (CheckObject())
                    {
                        if (currentCloseWeapon.isAxe && hitInfo.transform.tag == "Tree")
                        {
                            StartCoroutine(thePlayerController.TreeLookCoroutine(hitInfo.transform.GetComponent<TreeComponent>().GetTreeCenterPosition()));
                            StartCoroutine(AttackCoroutine("Chop", currentCloseWeapon.workDelayA, currentCloseWeapon.workDelayB, currentCloseWeapon.workDelay));
                            return;
                        }
                    }

                    StartCoroutine(AttackCoroutine("Attack", currentCloseWeapon.attackDelayA, currentCloseWeapon.attackDelayB, currentCloseWeapon.attackDelay));
                }
            }
        }
    }
```

<br>
***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}