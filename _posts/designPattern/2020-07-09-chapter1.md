---
title:  "Chapter 1. ì»´í¬ë„ŒíŠ¸ íŒ¨í„´(Component Pattern)" 

categories:
  -  Design Pattern
tags:
  - [Game Engine, Unity, Design Pattern]

toc: true
toc_sticky: true

date: 2020-07-09
last_modified_at: 2020-07-09
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì´ì¬í™˜ë‹˜ì˜ ê°•ì˜ **ê²Œì„ ë””ìì¸ íŒ¨í„´ with Unity** ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
{: .notice--warning}

# Chapter 1. Component Pattern

## ğŸ”” ìƒì† Vs. ì»´í¬ë„ŒíŠ¸

### ìƒì† : A is B

- ì¥ì   
  - ë¶€ëª¨ í´ë˜ìŠ¤ë¡œë¶€í„° ë¬¼ë ¤ë°›ì€ ë¶€ë¶„ì€ ë‹¤ì‹œ ì“¸ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ì¬ì‚¬ìš© ë©´ì— ìˆì–´ì„œ íš¨ìœ¨ì ì´ë‹¤.
- ë‹¨ì  
  - ë¶€ëª¨, ì¡°ìƒ í´ë˜ìŠ¤ê°€ ë  ê³µí†µëœ ìµœì†Œ í•„ìˆ˜ ì§‘í•©ì„ ê°œë°œìê°€ ë¯¸ë¦¬ ì˜ˆìƒí•˜ê¸°ê°€ í˜ë“¤ë‹¤.
    - ì¦‰, <u>ì™„ë²½í•˜ê²Œ ìˆœìˆ˜í•œ Base Classë¥¼ ë§Œë“œëŠ” ê²ƒì€ í˜ë“¬</u>
    - ìì‹ í´ë˜ìŠ¤ê°€ í•„ìš”ë¡œ í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ë„ ë¬¼ë ¤ì¤„ ìˆ˜ ìˆëŠ” ë“±ë“± <u>+, - í•´ì•¼í• ê²Œ ë„ˆë¬´ ë§ë‹¤.</u>
  - ì»´í¬ë„ŒíŠ¸ë“¤ë¼ë¦¬ ì»¤í”Œë§ì´ ì‹¬í•˜ë‹¤.
    - A ë¥¼ ì‚­ì œí•˜ë©´ A ë¥¼ ìƒì† ë°›ê³  ìˆë˜ B, C ì— ì¹˜ëª…ì ì¸ ë¬¸ì œê°€ ìƒê¸´ë‹¤. A ì˜ ë¶€ë¶„ì„ ìƒë‹¹ìˆ˜ ì¬ì‚¬ìš©í•˜ê³  ìˆì—ˆëŠ”ë° A ê°€ ì—†ì–´ì¡Œìœ¼ë‹ˆê¹Œ!

### ì»´í¬ë„ŒíŠ¸ : A has B

> ë¹ˆ ì»¨í…Œì´ë„ˆì— í•„ìš”í•  ë•Œë§ˆë‹¤ ì›í•˜ëŠ” ê¸°ëŠ¥ì„ ê°–ë‹¤ ë¶™ì—¬ í¬í•¨ì‹œí‚¤ëŠ” ë°©ì‹

- ê°ìì˜ ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆëŠ” <u>ìŠ¤ìŠ¤ë¡œ ë™ì‘í•˜ëŠ” ë…ë¦½ì ì¸ ë¶€í’ˆ</u>
  - ì»´í¬ë„ŒíŠ¸ë¥¼ ë—€ë‹¤ê³  í•´ì„œ ì˜¤ë¸Œì íŠ¸ì˜ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì— ì˜í–¥ì´ ê°€ëŠ” ê²ƒì€ ì—†ìŒ.
    - <u>ì»´í¬ë„ŒíŠ¸ë“¤ë¼ë¦¬ ë…ë¦½ì ì´ë©° ì»¤í”Œë§ì´ ì—†ë‹¤.</u>
  - <u>+, - ê°€ ì‰½ë‹¤.</u>

<br>


## ğŸ”” ì»´í¬ë„ŒíŠ¸ë€

> ë¡œì§ì„ ê¸°ëŠ¥ë³„ë¡œ ì»´í¬ë„ŒíŠ¸í™” í•˜ëŠ” ê²ƒ. <u>ê¸°ëŠ¥ë“¤ì„ ë‚˜ëˆ„ì–´ ê°ê° ë…ë¦½ì ì¸ í´ë˜ìŠ¤</u>ë¡œ ë¶„ë¦¬.

- í•œ ê°œì²´ê°€ ì—¬ëŸ¬ ë¶„ì•¼ë¥¼ ì„œë¡œ ì»¤í”Œë§ ì—†ì´ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
  - ì»´í¬ë„ŒíŠ¸ë§Œ ìˆ˜ì •í•˜ë©´ ë˜ì„œ <u>ìš”êµ¬ì‚¬í•­ì— ëŒ€í•œ ëŒ€ì²˜ê°€ ë¹¨ë¼ ìœ ì§€ë³´ìˆ˜ì‹œ í¸í•˜ë‹¤.</u>
- ìœ ë‹ˆí‹°ëŠ” ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤.
- ìº¡ìŠí™”ë¥¼ ë” ì‚´ë ¤ ì¤€ë‹¤.

<br>

## ğŸ”” ì½”ë“œ

### ì»´í¬ë„ŒíŠ¸ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ì„ ë•Œ

- í•œ ì½”ë“œ ë‚´ì—ì„œ 
  1. ì˜¤ë¸Œì íŠ¸ë¥¼ 90ë„ íšŒì „ì‹œí‚¤ê³ 
  2. ì˜¤ë¸Œì íŠ¸ë¥¼ ì´ë™ì‹œí‚¤ê³ 
  3. 0.5ì´ˆ yield ê¸°ë‹¤ë¦¬ëŠ”
- ìœ„ì™€ ê°™ì€ ì„¸ê°€ì§€ ì¼ë ¨ì˜ ê³¼ì •ì„ ê°€ì§„ ì½”ë£¨í‹´ í•¨ìˆ˜ê°€ ìˆë‹¤ê³  í•´ë³´ì.
- í•œ ì½”ë“œ ë‚´ì—ì„œ íšŒì „ë„ í•˜ê³  ì´ë™ë„ í•˜ê³  ìˆì§€ë§Œ
  - ë§Œì•½ì— <u>íšŒì „ì„ ë‹¤í•˜ê³ ë‚˜ë©´ 0.3ì´ˆ ê¸°ë‹¤ë¦¬ê³  ì´ë™ì€ 0.5ì´ˆ ê¸°ë‹¤ë¦¬ë„ë¡ ìˆ˜ì •í•´ì•¼ í•œë‹¤ë©´ ì½”ë“œ ìƒë‹¹ìˆ˜ë¥¼ ìˆ˜ì •í•´ì•¼ í•œë‹¤.</u>

#### ğŸ“œSpaghetticAct.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

enum MOVE
{
    MOVE_RIGHT,
    MOVE_LEFT
}

public class SpaghettiAct : MonoBehaviour {

    GameObject player1;
    GameObject player2;
    MOVE move = MOVE.MOVE_RIGHT;

    void Start () {
        player1 = GameObject.Find("Player1") as GameObject;
        player2 = GameObject.Find("Player2") as GameObject;

        StartCoroutine("MixedAct");
    }

    // 0.5ì´ˆë§ˆë‹¤ ê°ì²´ë“¤ì„ íšŒì „í•˜ë©´ì„œ (ê¸€ë¡œë²Œ ë°©í–¥ìœ¼ë¡œ) ì´ë™ì‹œí‚¤ê¸°
    IEnumerator MixedAct()
    {
        while (true)
        {
            player1.transform.Rotate(90.0f * Vector3.up);
            player2.transform.Rotate(90.0f * Vector3.up);

            if (player1.transform.position.x < -4)
            {
                move = MOVE.MOVE_RIGHT;
            }
            else if (player1.transform.position.x > 4)
            {
                move = MOVE.MOVE_LEFT;
            }

            if (move == MOVE.MOVE_RIGHT)
            {
                player1.transform.Translate(1.0f * Vector3.right, Space.World);
                player2.transform.Translate(-1.0f * Vector3.right, Space.World);
            }
            else
            {
                player1.transform.Translate(-1.0f * Vector3.right, Space.World);
                player2.transform.Translate(1.0f * Vector3.right, Space.World);
            }

            yield return new WaitForSeconds(0.5f);
        }
    }
}

```

<br>

### ì»´í¬ë„ŒíŠ¸ íŒ¨í„´ì„ ì‚¬ìš©í–ˆì„ ë•Œ

> ê¸°ëŠ¥ ë³„ë¡œ ë‚˜ëˆ„ì–´ í´ë˜ìŠ¤ë¡œ ë¬¶ì–´ ë…ë¦½ì ìœ¼ë¡œ ë¶„ë¦¬í•´ë†“ê³  í•„ìš”í•  ëŒ€ ê°€ì ¸ë‹¤ ì“´ë‹¤.

- ì´ë™ê³¼ íšŒì „ ê¸°ëŠ¥ì„ í´ë˜ìŠ¤ë¡œ ë”°ë¡œ ë¬¶ì–´ ë¶„ë¦¬í•˜ì˜€ë‹¤.
  - ğŸ“œMovs.cs  : ì´ë™ì— ê´€í•œ ê²ƒë§Œ ë¬¶ì–´ ì‘ì„±. 0.3ì´ˆ ê¸°ë‹¤ë¦¬ëŠ” ì½”ë£¨í‹´ í•¨ìˆ˜ æœ‰.
  - ğŸ“œRotate.cs  : íšŒì „ì— ê´€í•œ ê²ƒë§Œ ë¬¶ì–´ ì‘ì„±. 0.5ì´ˆ ê¸°ë‹¤ë¦¬ëŠ” ì½”ë£¨í‹´ í•¨ìˆ˜ æœ‰.
- ì´ì œ ìœ ì§€ë³´ìˆ˜ì‹œ <u>í•œ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ë¶€ë¶„ë§Œ ìˆ˜ì •í•˜ë©´ ë˜ì„œ í¸í•´ì§„ë‹¤.</u>
  - ë‘ ì»´í¬ë„ŒíŠ¸(C#ìŠ¤í¬ë¦½íŠ¸)ì˜ ì»¤í”Œë§ì´ ì—†ì–´ì¡Œê¸° ë•Œë¬¸ì´ë‹¤.

#### ğŸ“œMove.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

enum MOVE2
{
    MOVE_RIGHT,
    MOVE_LEFT
}

public class MoveAct : MonoBehaviour {

    MOVE2 move = MOVE2.MOVE_RIGHT;

    void Start () {
        StartCoroutine("Move");
    }

    // 0.5ì´ˆë§ˆë‹¤ (ê¸€ë¡œë²Œ ë°©í–¥ìœ¼ë¡œ) ì´ë™ì‹œí‚¤ê¸°
    IEnumerator Move()
    {
        while (true)
        {
            if (transform.position.x < -4)
            {
                move = MOVE2.MOVE_RIGHT;
            }
            else if (transform.position.x > 4)
            {
                move = MOVE2.MOVE_LEFT;
            }

            if (move == MOVE2.MOVE_RIGHT)
            {
                transform.Translate(1.0f * Vector3.right, Space.World);
            }
            else
            {
                transform.Translate(-1.0f * Vector3.right, Space.World);
            }

            yield return new WaitForSeconds(0.5f);
        }
    }
}

```

#### ğŸ“œRotate.cs

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class RotateAct : MonoBehaviour {

	void Start () {
        StartCoroutine("Rotate");
    }

    // 0.5ì´ˆë§ˆë‹¤ ê°ì²´ íšŒì „ì‹œí‚¤ê¸°
    IEnumerator Rotate()
    {
        while (true)
        {
            transform.Rotate(90.0f * Vector3.up);

            yield return new WaitForSeconds(0.3f);
        }
    }
}

```

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}