---
title:  "Chapter 2. ì‹±ê¸€í†¤ íŒ¨í„´(Sigleton Pattern) ì˜ˆì œ 2-2" 

categories:
  -  Design Pattern
tags:
  - [Game Engine, Unity, Design Pattern]

toc: true
toc_sticky: true

date: 2020-07-09
last_modified_at: 2020-07-09
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì´ì¬í™˜ë‹˜ì˜ ê°•ì˜ **ê²Œì„ ë””ìì¸ íŒ¨í„´ with Unity** ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
{: .notice--warning}

# Chapter 1. Sigleton Pattern

## ğŸ”” ì˜ˆì œ 2-2 : í˜„ì¬ ì”¬ì— ë‹¤ë¥¸ ì”¬ì„ ë§ëŒ€ì–´ ì¶”ê°€í–ˆì„ ë•Œ

- "Scene 2-1" ìœ„ì— "Scene 2-2" ì”¬ì„ ë§ëŒ€ì–´ ì¶”ê°€í–ˆì„ ë•Œë„ ë‘ ì”¬ì´ ì‹±ê¸€í†¤ ê°ì²´ë¥¼ ì˜ ê³µìœ í•˜ë„ë¡ êµ¬í˜„ í•¨.
  - **Scene ì¶”ê°€**
    - ê¸°ë³¸ì ìœ¼ë¡œëŠ” í™”ë©´ì—ëŠ” í•œê°œì˜ Sceneì´ ë¡œë“œë˜ê³ , ë‹¤ë¥¸ Sceneì„ ë‹¤ì‹œ ë¡œë“œí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ Sceneì„ êµì²´í•œë‹¤.
    - ê¸°ì¡´ Sceneì— Sceneì„ ì¶”ê°€í•  ìˆ˜ë„ ìˆëŠ”ë°, ì´ê²ƒì„ `Additive Loading`ì´ë¼ê³  í•œë‹¤. 
      - Additive Sceneì€ ì˜ˆë¥¼ ë“¤ë©´ ë§í’ì„  ëª¨ì–‘ìœ¼ë¡œ ìƒìƒí•˜ëŠ” ì”¬(?) ê°™ì€ ëŠë‚Œì´ë‹¤.

### "Scene 2-1" êµ¬ì¡°

- `GameManager` ì˜¤ë¸Œì íŠ¸
  - ğŸ“œ PointManager.cs
    - â­ì‹±ê¸€í†¤ ê°ì²´ê°€ ë  ê²ƒ.
      ```c#
      using UnityEngine;
      using System.Collections;
      
      public class PointManager : MonoBehaviour 
      {
          int myPoint = 0;
        
          static PointManager _instance = null;
	        public static PointManager Instance()
	        {
		        return _instance;
	        }
	  
	        void Awake () 
	        {
              if (_instance == null)
              {
                  _instance = this;
                  DontDestroyOnLoad(this.gameObject);
              }
              else 
              {
                  if (this != _instance)
                  {
                      Destroy(this.gameObject)
                  }
              }
          }
        
          public void AddPoint(int num)
	        {
              myPoint = myPoint + num;
	        }
      
          public int GetPoint()
          {
              return myPoint;
          }
      }
      ```
- `Cube 1` ì˜¤ë¸Œì íŠ¸
  - ğŸ“œMyAddPoint.cs
- `Cube 2` ì˜¤ë¸Œì íŠ¸
  - ğŸ“œMyAddPoint.cs
- `Main Camera` ì˜¤ë¸Œì íŠ¸
  - ğŸ“œ SceneTrans2.cs
    - ê°ê° ë‹¤ë¥¸ ì”¬ìœ¼ë¡œ ì „í™˜í•´ ì£¼ëŠ” ë‘ í•¨ìˆ˜ê°€ êµ¬í˜„ë˜ì–´ ìˆë‹¤.
      - í˜„ì¬ ì”¬ì— ìƒˆë¡œìš´ ì”¬ì„ ë§ëŒ€ì–´ ì¶”ê°€í•´ì£¼ëŠ” í•¨ìˆ˜
        - **SceneManager.LoadScene("04-Scene2-2", LoadSceneMode.Additive);**
          - "04-Scene2-2"ì”¬ì„ `LoadSceneMode.Additive` ëª¨ë“œë¡œ í•œ ì”¬ ë‚´ì—ì„œ ì¶”ê°€ì ìœ¼ë¡œ, ë³´ì¡°ì ìœ¼ë¡œ ì”¬ì„ ìœ„ì— ë¡œë“œí•œë‹¤.
      - ì–´ë–¤ ì”¬ì„ unload í•˜ê³  ì‹¶ì„ ë•Œ 
        - **SceneManager.UnloadSceneAsync("04-Scene2-2");**
          - "04-Scene2-2"ì”¬ì„ ì–¸ë¡œë“œí•œë‹¤.
            - "04-Scene2-2"ì”¬ ìƒì˜ ì˜¤ë¸Œì íŠ¸ë“¤ì„ íŒŒê´´í•œë‹¤.
      ```c#
      using System.Collections;
      using System.Collections.Generic;
      using UnityEngine;
      using UnityEngine.SceneManagement;

      public class SceneTrans2 : MonoBehaviour {
            
	      public void AddScene () {
		      SceneManager.LoadScene("04-Scene2-2", LoadSceneMode.Additive);
	      }
            
	      public void RemoveScene () {
		      SceneManager.UnloadSceneAsync("04-Scene2-2");
		      SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex);
	      }
      }
      ```

<br>

### "Scene 2-2" êµ¬ì¡°

- "Scene 2-1" ìœ„ì— ë§ëŒ€ì–´ ì¶”ê°€ ë  ì”¬ì´ë‹¤.
- `Cube 2` ì˜¤ë¸Œì íŠ¸
  - ğŸ“œMyAddPoint.cs
- `GameManager` ì˜¤ë¸Œì íŠ¸ëŠ” ì—†ë‹¤.
  - <u>"Scene 2-1"ì— ì´ë¯¸ ìˆìœ¼ë¯€ë¡œ ì—†ì–´ë„ ëœë‹¤.</u> `GameManager`ëŠ” <u>í•œ ì”¬ì—ì„  ì „ì²´ í•˜ë‚˜ë§Œ ìˆìœ¼ë©´ ë¨.("Scene 2-2"ëŠ” ë§ëŒ€ì–´ì§€ëŠ” ì”¬ì¼ ë¿ ìƒˆë¡­ê²Œ ë¡œë“œë˜ëŠ”ê±´ ì•„ë‹˜)</u>
- âœ¨ `Main Camera` ì˜¤ë¸Œì íŠ¸ëŠ” êº¼ì ¸ìˆë‹¤.
  - <u>"Scene 2-1"ì˜ Main Cameraë¥¼ ê³µìœ í•˜ì—¬ ì‚¬ìš©í• ê±°ë¼ì„œ.</u>


<br>

### ì‹¤í–‰

ì´ì „ í¬ìŠ¤íŠ¸ì™€ ì‹¤í–‰ ì›ë¦¬ ê°™ë‹¤.

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}

