---
title:  "Chapter 14. ëª…ë ¹ íŒ¨í„´(Command Pattern)" 

categories:
  -  Design Pattern
tags:
  - [Game Engine, Unity, Design Pattern]

toc: true
toc_sticky: true

date: 2020-12-11
last_modified_at: 2020-12-11
---

ì¸í”„ëŸ°ì— ìˆëŠ” ì´ì¬í™˜ë‹˜ì˜ ê°•ì˜ **ê²Œì„ ë””ìì¸ íŒ¨í„´ with Unity** ë¥¼ ë“£ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
{: .notice--warning}

# Chapter 14. Command Pattern

## ğŸ”” ê°œë…

> ëª…ë ¹ íŒ¨í„´ì€ í•¨ìˆ˜ í˜¸ì¶œì„ ìì²´ë¥¼ ì‹¤ì²´í™”, ì¦‰ ê°ì²´ë¡œ ê°ì‹¼ ê²ƒì´ë‹¤.

- <u>ìš”ì²­ ìì²´ë¥¼ ìº¡ìŠí™” í•˜ëŠ” ê²ƒ.</u>
  - ì´ë¥¼ í†µí•´ ìš”ì²­ì´ ì„œë¡œ ë‹¤ë¥¸ ì‚¬ìš©ìë¥¼ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë§Œë“¤ê³ , ìš”ì²­ì„ ëŒ€ê¸°ì‹œí‚¤ê±°ë‚˜ ë¡œê¹…í•˜ë©°, ë˜ëŒë¦´ ìˆ˜ ìˆëŠ” ì—°ì‚°ì„ ì§€ì›í•œë‹¤.
- í•¨ìˆ˜ í˜¸ì¶œì„ ê°ì²´ë¡œ ë§Œë“¤ì—ˆê¸° ë•Œë¬¸ì— **ë””ì»¤í”Œë§ìœ¼ë¡œ ì½”ë“œê°€ ìœ ì—°**í•˜ë‹¤.
- ê²Œì„ í”„ë¡œê·¸ë˜ë°ì—ì„œì˜ ì‚¬ìš© ì˜ˆ
  - ì…ë ¥ í‚¤ ë³€ê²½
  - ì‹¤í–‰ ì·¨ì†Œ, ì¬ì‹¤í–‰

<br>

## ğŸ”” ì»¤ë§¨ë“œ íŒ¨í„´ì´ ì ìš© ì•ˆëœ ì˜ˆì œ

### ğŸ“œcsCannon

> ì´ì•Œ ì˜¤ë¸Œì íŠ¸ì— ë¶™ëŠ”ë‹¤.

```c#
using UnityEngine;
using System.Collections;

public class csCannon : MonoBehaviour 
{
	float power = 900.0f;
	Vector3 velocity;

	void Start() 
	{
		velocity = transform.forward * power;

		GetComponent<Rigidbody>().AddForce(velocity); // ìƒì„± ë˜ìë§ˆì 900 í¬ê¸°ì˜ ì†ë„ë¡œ ë°œì‚¬ ë¨
		StartCoroutine ("DeleteCannon"); // 0.5ì´ˆ ë’¤ ì´ì•Œ íŒŒê´´
	}

	IEnumerator DeleteCannon() {
		yield return new WaitForSeconds (0.5f); 
		Destroy(this.gameObject);
	}
}
```

<br>

### ğŸ“œcsPlayerNormal

```c#
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class csPlayerNormal : MonoBehaviour {

	public GameObject shield; // ì‰´ë“œ ì˜¤ë¸Œì íŠ¸(ë¹„í™œì„±í™” ìƒíƒœê°€ ë””í´íŠ¸ë‹¤)
	public GameObject cannon; // ì´ì•Œ í”„ë¦¬íŒ¹
	public Transform firePos; // ì´ì•Œì´ ìƒì„±ë  ìœ„ì¹˜ê°€ ë  ë¹ˆ ì˜¤ë¸Œì íŠ¸

	void Update () {

		if (Input.GetKeyDown ("a")) {
			Attack ();  
		} else if (Input.GetKeyDown ("b")) {
			Defense ();
		}
	}

	void Attack() // ê³µê²©. ì´ì˜ê¸°
	{
		Debug.Log("Attack");
		Instantiate (cannon, firePos.position, firePos.rotation); // ğŸ“œcsCannon ì˜ Start()ê°€ ì‹¤í–‰ë˜ë©° ì´ì•Œ ìƒì„±ë˜ê³  ë‚ ë¼ê°€ê³  0.5ì´ˆë’¤ íŒŒê´´
	}

	void Defense() // ë°©ì–´. 
	{
		Debug.Log("Defense");
		shield.SetActive(true); // ì‰´ë“œë¥¼ í™œì„±í™”
		StartCoroutine (Defense(0.5f)); // 0.5ì´ˆ ë’¤ ì‰´ë“œ ë¹„í™œì„±í™”
	}

	IEnumerator Defense(float tm) {
		yield return new WaitForSeconds (tm);
		shield.SetActive(false);
	}

}
```

### ë¬¸ì œì 

```c#
	void Update () {

		if (Input.GetKeyDown ("a")) {
			Attack ();  
		} else if (Input.GetKeyDown ("b")) {
			Defense ();
		}
	}
```

ê³µê²©ì„ `E`í‚¤ë¡œ í•˜ê³  ì‹¶ë‹¤ë©´? ì‚¬ìš©ìê°€ Key ë¥¼ ë°”ê¾¸ê³  ì‹¶ë‹¤ë©´? ì‚¬ìš©ìê°€ ì§ì ‘ update() ë¬¸ ì½”ë“œë¥¼ ë°”ê¾¸ì§€ ì•ŠëŠ” ì´ìƒ ì‚¬ìš©ì ì •ì˜ í‚¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤. ì»¤ë§¨ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ë©´ Key ë¥¼ ë°”ê¿€ ìˆ˜ ìˆë‹¤.

<br>

## ğŸ”” ì»¤ë§¨ë“œ íŒ¨í„´ì´ ì ìš© ëœ ì˜ˆì œ

### ğŸŒ¼ ì˜ˆì œ 1

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}