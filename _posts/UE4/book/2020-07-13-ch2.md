---
title:  "UE4 Chapter 2. ì•¡í„°ì˜ ì„¤ê³„" 

categories:
  -  UE4 Lesson 2 
tags:
  - [Game Engine, UE4]

toc: true
toc_sticky: true

date: 2020-07-13
last_modified_at: 2020-07-13
---

ì´ë“ìš°ë‹˜ì˜ ì±… **ì´ë“ìš°ì˜ ì–¸ë¦¬ì–¼ C++ ê²Œì„ ê°œë°œì˜ ì •ì„** ì„ ê³µë¶€í•˜ê³  ì •ë¦¬í•œ í•„ê¸°ì…ë‹ˆë‹¤. ğŸ˜€  
**ì–¸ë¦¬ì–¼ ì—”ì§„ ê³µì‹ ë¬¸ì„œ** <https://docs.unrealengine.com/ko/index.html>
{: .notice--warning}

# Chater 2. ì•¡í„°ì˜ ì„¤ê³„

## ğŸ”” ì–¸ë¦¬ì–¼ ì»¨í…ì¸ ì˜ êµ¬ì„± ìš”ì†Œ

### 1. ì›”ë“œ

> ë·°í¬ëŠ ìœˆë„ìš°ì— ë³´ì´ëŠ” ì‘ì—… ê³µê°„ = `ê°€ìƒ ê³µê°„` = `ì›”ë“œ`

- êµ¬ì„±ìš”ì†Œ
  1. ê³µê°„
    - ì›”ë“œì˜ 3ì°¨ì› ê³µê°„ì•ˆì— ì¡´ì¬í•˜ë ¤ë©´ `Transform` ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ì¡ì•¼ í•˜ë©°
    - ê³µê°„ì˜ ê¸°ë³¸ ë‹¨ìœ„ëŠ” <u>cm</u>ì´ë‹¤.
  2. ì‹œê°„
    - ì›”ë“œ(ê°€ìƒê³µê°„) ì•ˆì—ì„œ íë¥¸ ã„´ì‹œê°„
    - ì‹œê°„ ìŠ¤ì¼€ì¼ ì¡°ì ˆ ê°€ëŠ¥.
  3. ë¬¼ë¦¬
    - ì¤‘ë ¥ê°™ì€ ë¬¼ë¦¬ì  ì˜í–¥ì„ ë°›ìœ¼ë ¤ë©´ `Collision` ì»´í¬ë„ŒíŠ¸ê°€ ë¶™ì–´ìˆì–´ì•¼.
  4. ë Œë”ë§
    - ì‹œê°ì ì¸ ê¸°ëŠ¥. í˜„ì‹¤ ì„¸ê³„ì™€ ìœ ì‚¬í•œ ë¹›.
    - `Physically Based Rendering`
- ì„¸íŒ… - ì›”ë“œ ì„¸íŒ…
  - ì—ì„œ ì›”ë“œì˜ ë” ë§ì€ ìš”ì†Œë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.

<br>

### 2. Actor

> ì½˜í…ì¸ ë¥¼ êµ¬ì„±í•˜ëŠ” ìì‹ ì—ê²Œ ì£¼ì–´ì§„ ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” <u>ìµœì†Œ ë‹¨ìœ„ì˜ ë¬¼ì²´(ì˜¤ë¸Œì íŠ¸)</u>

- ì›”ë“œ ì•„ì›ƒë¼ì´ë„ˆ ìœˆë„ìš°ì—ì„œ ì•¡í„°ë“¤ì˜ ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆë‹¤.
  - í° ê¸€ì”¨ ì•¡í„°ë“¤ì€ í˜„ì¬ ë ˆë²¨ì— í”Œë ˆì´ ì „ì— í˜„ì¬ ë ˆë²¨ì— ì´ë¯¸ ì¡´ì¬í•˜ê³  ìˆëŠ” ì•¡í„°ë“¤ì„ ëœ»í•˜ë©°
  - ë…¸ë€ ê¸€ì”¨ì˜ ì•¡í„°ë“¤ì€ í”Œë ˆì´ ë„ì¤‘ ìƒˆë¡­ê²Œ ìƒê²¨ë‚œ ì•¡í„°ë“¤ì„ ëœ»í•œë‹¤.
- ë””í…Œì¼ ìœˆë„ìš°ì—ì„œ ì„ íƒí•œ ì•¡í„°ì˜ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.
- ì•¡í„°ì— ë¶™ì–´ìˆëŠ” ì»´í¬ë„ŒíŠ¸(C++ í´ë˜ìŠ¤, C++ ì½”ë“œ)ëŠ” ì´ ì•¡í„°ì˜ ê¸°ëŠ¥ ë° ì—­í• ì´ ëœë‹¤.
- ì•¡í„°ë“¤ì€ íŠ¸ëœìŠ¤í¼ì„ ê°€ì§„ë‹¤.

<br>

### 3. ë ˆë²¨

> í”Œë ˆì´ì–´ì—ê²Œ ì£¼ì–´ì§„ ìŠ¤í…Œì´ì§€. 

- ì›”ë“œì— ë°°ì¹˜ëœ ì•¡í„°ë“¤ì˜ ì§‘í•©.
- ë ˆë²¨ì„ ì„¤ê²Œí•˜ë‹¤ = ìŠ¤í…Œì´ì§€ë¥¼ ì¡°ë¦½í•˜ë‹¤.

<br>

### 4. ì»´í¬ë„ŒíŠ¸

> <u>ì•¡í„°ì—ê²Œ ê¸°ëŠ¥ì„ ë¶€ì—¬</u>í•˜ë ¤ë©´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶™ì—¬ì£¼ë©´ ëœë‹¤. ì–¸ë¦¬ì–¼ì—ì„œ ì§€ì›í•˜ëŠ” ì»´í°ë„ŒíŠ¸ë“¤ë„ ìˆê³  ì§ì ‘ C++ í´ë˜ìŠ¤ ì½”ë“œë¥¼ ì‘ì„±í•˜ì—¬ ì‚¬ìš©ì ì§€ì • ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶™ì—¬ì¤„ ìˆ˜ë„ ìˆë‹¤.

- ì£¼ìš” ì»´í¬ë„ŒíŠ¸
  - StaticMesh ì»´í¬ë„ŒíŠ¸
    - <u>ì• ë‹ˆë©”ì´ì…˜ì´ ì—†ëŠ”</u> ëª¨ë¸ë§ ì—ì…‹ì¸ ìŠ¤íƒœí‹± ë©”ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ **ì‹œê°ì , ë¬¼ë¦¬ì  ê¸°ëŠ¥** ì œê³µ
    - ê²Œì„ ì œì‘ì— ìˆì–´ ê°€ì¥ ë§ì´ ì‚¬ìš© ë¨.
    - ì£¼ë¡œ ë°°ê²½ì— ì‚¬ìš©
  - SkeletalMesh ì»´í¬ë„ŒíŠ¸ 
    - <u>ì• ë‹ˆë©”ì´ì…˜ì´ ìˆëŠ”</u> ëª¨ë¸ë§ ì—ì…‹ì¸ ìŠ¤íƒœí‹± ë©”ì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ **ì‹œê°ì , ë¬¼ë¦¬ì  ê¸°ëŠ¥** ì œê³µ
    - í”Œë ˆì´ì–´, ì  ë“±ë“±
  - Camera, Collision, Audio, Particle, Light, Movement, ... ë“±ë“±

#### ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸

- ì–¸ë¦¬ì–¼ì—ì„œëŠ” ì–´ë–¤ ì•¡í„°ì— ë¶™ì–´ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë“¤ ì¤‘ ê·¸ ì•¡í„°ì—ì„œ ëŒ€í‘œë˜ëŠ” ì»´í¬ë„ŒíŠ¸ 1 ê°œë¥¼ ë°˜ë“œì‹œ ì§€ì •í•´ì•¼ í•œë‹¤. ì´ë¥¼ <u>ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸</u> ë¼ê³  í•œë‹¤. 
  - ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë“¤ì„ <u>ì´ ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ìì‹ìœ¼ë¡œ ë„£ì–´ì£¼ì–´ì•¼ í•œë‹¤.</u>

<br>

## ğŸ”” ì•¡í„°ì˜ ì„¤ê³„

> ì–¸ë¦¬ì–¼ì—ì„  ì½”ë“œë¥¼ ì—”ì§„ì— ë°˜ì˜í•˜ë ¤ë©´ ì €ì¥í•˜ëŠ”ê±¸ë¡œëŠ” ì•ˆë˜ê³  ê¼­ <u>ë¹Œë“œ í•´ì„œ ì»´íŒŒì¼ì„ ë§ˆì³ì•¼ í•œë‹¤.</u>

- `Fountain` <u>ì•¡í„°</u>ë¥¼ ë§Œë“¤ì–´ ë³´ì.
  - ë¶„ìˆ˜ëŒ€ëŠ” `ë¶„ìˆ˜ëŒ€ êµ¬ì¡°ë¬¼`ê³¼ `ë¬¼`ë¡œ êµ¬ì„±ë˜ì–´ ìˆë‹¤.
    - **ë¶„ìˆ˜ëŒ€ êµ¬ì¡°ë¬¼** ğŸ‘‰ <u>StaticMesh ì»´í¬ë„ŒíŠ¸</u> (ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì§€ì •)
      - ë¶„ìˆ˜ëŒ€ êµ¬ì¡°ë¬¼ì˜ ë¹„ì£¼ì–¼
      - ì¶©ëŒ ì²˜ë¦¬
    - **ë¬¼** ğŸ‘‰ <u>StaticMesh ì»´í¬ë„ŒíŠ¸</u>
      - ë¬¼ì˜ ë¹„ì£¼ì–¼ 
- ğŸ“œFountain.h 
  - ì»´í¬ë„ŒíŠ¸ ì„ ì–¸
- ğŸ“œFountain.cpp
  - ì»´í¬ë„ŒíŠ¸ êµ¬í˜„

<br>

### ğŸ“œFountain.h

```cpp
#pragma once

#include "ArenaBattle.h"
#include "EngineMinimal.h"
#include "GameFramework/Actor.h"
#include "Fountain.generated.h"

UCLASS()
class ARENABATTLE_API AFountain : public AActor
{
	GENERATED_BODY()
	
public:	
	// Sets default values for this actor's properties
	AFountain();

protected:
	// Called when the game starts or when spawned
	virtual void BeginPlay() override;

public:	
	// Called every frame
	virtual void Tick(float DeltaTime) override;

	UPROPERTY()
	UStaticMeshComponent *Body;

	UPROPERTY()
	UStaticMeshComponent *Water;
};
```

#### EngineMinimal.h

```cpp
#include "EngineMinimal.h"
```

- `CoreMinimal.h` 
  - <u>ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸</u>ê°€ ë™ì‘í•  ìˆ˜ ìˆëŠ” ìµœì†Œí•œì˜ ê¸°ëŠ¥ë§Œ ì„ ì–¸ëœ ê³µìš© í—¤ë”
- `EngineMinimal.h`
  - <u>ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸</u>ì˜ ë‹¤ì–‘í•œ ì—”ì§„ í´ë˜ìŠ¤ ì„ ì–¸ì„ ëª¨ì•„ë‘” ê³µìš© í—¤ë”
  - **ì—¬ê¸°ì„  ë‹¤ì–‘í•œ ì—”ì§„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ "EngineMinimal.h"ë¥¼ ì‚¬ìš©í–ˆë‹¤.**

#### ì»´í¬ë„ŒíŠ¸ ì„ ì–¸ ë° ë™ì  í• ë‹¹

```cpp
	UPROPERTY()
	UStaticMeshComponent *Body;

	UPROPERTY()
	UStaticMeshComponent *Water;
```

- ì»´í¬ë„ŒíŠ¸ í¬ì¸í„° 
  - ì„ ì–¸
    - *UStaticMeshComponent *Body;*
      - `ë¶„ìˆ˜ëŒ€ êµ¬ì¡°ëŒ€`ì˜ ë¹„ì£¼ì–¼ê³¼ ì¶©ëŒì²˜ë¦¬ ê¸°ëŠ¥ì„ í•  ì»´í¬ë„ŒíŠ¸ 
    - *UStaticMeshComponent *Water*
      - `ë¬¼`ì˜ ë¹„ì£¼ì–¼ ê¸°ëŠ¥ì„ í•  ì»´í¬ë„ŒíŠ¸
- ì»´í¬ë„ŒíŠ¸ë¥¼ <u>ë™ì  í• ë‹¹ ë°›ì•„ í¬ì¸í„°ì— ì£¼ì†Œë¥¼ ë¦¬í„´í•  ê²ƒ</u>
  - C++ ì—ì„œëŠ” í™ ë©”ëª¨ë¦¬ë¡œ ë™ì  í• ë‹¹ ë°›ì€ ê°ì²´ë“¤ì€ ê°œë°œìê°€ ì§ì ‘ `delete` ì‹œì¼œì£¼ì–´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ë¥¼ ë°©ì§€í•´ì•¼ í•˜ëŠ”ë° 
  - ì–¸ë¦¬ì–¼ì—ì„œëŠ” `UPROPERTY()` <u>ë§¤í¬ë¡œë¥¼ í¬ì¸í„° ìœ„ì— ë¶™ì—¬ì£¼ë©´ ê°ì²´ê°€ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©´ ìë™ìœ¼ë¡œ ë©”ëª¨ë¦¬ë¥¼ í•´ì œ</u>ì‹œì¼œ ì¤€ë‹¤.
    - `UObject`ì—ì„œ ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ì„ ì œê³µí•˜ê¸° ë•Œë¬¸!
    - ê°œë°œìê°€ ì§ì ‘ `delete`ì‹œí‚¬ í•„ìš”ê°€ ì—†ìŒ
    - ì´ ë§¤í¬ë¡œëŠ” ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ ê°ì²´ì—ë§Œ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.
      

### ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸

> `ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸` : ì–¸ë¦¬ì–¼ í™˜ê²½ì— ì˜í•´ ê´€ë¦¬ë˜ëŠ” C++ ê°ì²´. ì»´í¬ë„ŒíŠ¸ë“¤ë„ ì „ë¶€ ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ë‹¤.

  ```cpp
  #include "ArenaBattle.h"
  #include "EngineMinimal.h"
  #include "GameFramework/Actor.h"
  #include "Fountain.generated.h" // â­

  UCLASS() // â­
  class ARENABATTLE_API AFountain : public AActor // â­
  {
	GENERATED_BODY()  // â­
  ```

- C++ í´ë˜ìŠ¤ê°€ <u>ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ í´ë˜ìŠ¤</u>ê°€ ë˜ë ¤ë©´ ì§€ì¼œì•¼ í•˜ëŠ” ê·œì¹™
  1. í´ë˜ìŠ¤ ìœ„ì— `UCLASS()` ë§¤í¬ë¡œ, í´ë˜ìŠ¤ ë‚´ë¶€ì— `GENERATED_BODY()` ë§¤í¬ë¡œ ì„ ì–¸í•´ <u>ì´ í´ë˜ìŠ¤ê°€ ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ì„ì„ ì„ ì–¸</u>í•œë‹¤.
  2. ì•¡í„° í´ë˜ìŠ¤ ì´ë¦„ ì•ì—ëŠ” `A`ë¥¼ ë¶™ì´ê³ , ì•¡í„°ê°€ ì•„ë‹Œ í´ë˜ìŠ¤ ì´ë¦„ ì•ì—ëŠ” `U`ë¥¼ ë¶™ì—¬ êµ¬ë¶„í•œë‹¤. ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ì™€ ì „í˜€ ìƒê´€ì´ ì—†ëŠ” ì¼ë°˜ C++ í´ë˜ìŠ¤ëŠ” `F`ë¥¼ ë¶™ì¸ë‹¤.
    - `AFountain` : ì•¡í„° í´ë˜ìŠ¤
    - `AActor` : ì•¡í„° í´ë˜ìŠ¤
    - `UStaticMeshComponent` : ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤
    - `FVector` : ì¼ë°˜ C++ ë²¡í„° í´ë˜ìŠ¤ 
  3. `Fountain.generated.h`
    - ì½”ë“œë¥¼ ì‘ì„±í•  ë• ì—†ì§€ë§Œ ì–¸ë¦¬ì–¼ í™˜ê²½ì˜ ì»´íŒŒì¼ ê³¼ì •ì—ì„œ ìƒê¸°ëŠ” íŒŒì¼ì´ë‹¤. ë§ˆì§€ë§‰ #inlcude êµ¬ë¬¸ì—ì„œ ë°˜ë“œì‹œ ì„ ì–¸í•´ì£¼ì–´ì•¼ í•˜ëŠ” í—¤ë”íŒŒì¼ì´ë‹¤.
  4. `ARENABATTLE_API`
    - í´ë˜ìŠ¤ ì„ ì–¸ ì•ì— ì´ í‚¤ì›Œë“œê°€ ìˆì–´ì•¼ ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ í•´ë‹¹ ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

<br>

### ğŸ“œFountain.cpp

- #include "Fountain.h"
- cpp íŒŒì¼ì—ì„œ ì•¡í„°ì˜ êµ¬ì¶•(ìƒì„±ì), ì»´í¬ë„ŒíŠ¸ë“¤ì˜ êµ¬í˜„ì„ ë‹´ë‹¹í•œë‹¤. 

```cpp
// Fill out your copyright notice in the Description page of Project Settings.

#include "Fountain.h"

// Sets default values
AFountain::AFountain()
{
 	// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don't need it.
	PrimaryActorTick.bCanEverTick = true;

	Body = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("BODY"));
	Water = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("WATER"));

    RootComponent = Body;
	Water->SetupAttachment(Body);
}

// Called when the game starts or when spawned
void AFountain::BeginPlay()
{
	Super::BeginPlay();

}

// Called every frame
void AFountain::Tick(float DeltaTime)
{
	Super::Tick(DeltaTime);

}
```

#### CreateDeaultSubobject í•¨ìˆ˜

- **ìƒì„±ì** ì—ì„œ í—¤ë” íŒŒì¼ì—ì„œ ì„ ì–¸ í–ˆì—ˆë˜ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë™ì  í• ë‹¹í•´ ìƒì„±í•´ì£¼ëŠ”ë°
  - ì–¸ë¦¬ì–¼ì—ì„  `new`ëŒ€ì‹  `CreateDeaultSubobject` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„±í•œë‹¤.

```cpp
Body = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("BODY"));
Water = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("WATER"));
```
- ë™ì  í• ë‹¹í•˜ê³  í¬ì¸í„°ë¥¼ ë¦¬í„´
- `UStaticMeshComponent` ì»´í¬ë„ŒíŠ¸ ìƒì„±
- TEXT("BODY")
  - ì•¡í„°ì— ì†í•œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ êµ¬ë³„í•˜ê¸° ìœ„í•œ Hash ê°’ ìƒì„±ì— ì‚¬ìš©ë˜ëŠ” ë¬¸ìì—´ ê°’ì´ë‹¤.
  - ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë“¤ê³¼ ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ìœ ì¼í•œ ê°’ì„ ì‚¬ìš©í•´ì•¼ í•˜ë©° ì–´ë–¤ ê°’ì„ ë„£ì–´ë„ ìƒê´€ì€ ì—†ë‹¤.

#### ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ ì§€ì •

```cpp
    RootComponent = Body;
	Water->SetupAttachment(Body);
```
- ë¶„ìˆ˜ëŒ€ êµ¬ì¡°ë¬¼ì¸ `Body`ë¥¼ ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì§€ì •í•œ í›„ 
  - `SetupAttachment` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ `Water`ë¥¼ `Body`ì˜ ìì‹ ì»´í¬ë„ŒíŠ¸ë¡œ ì§€ì •í•´ì¤€ë‹¤.

> ë‚˜ë¨¸ì§€ ì»´í¬ë„ŒíŠ¸ë“¤ì€ ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ìì‹ìœ¼ë¡œ ë“¤ì–´ê°€ì•¼ í•œë‹¤.

<br>

### ë¹Œë“œ

- ë¹„ì£¼ì–¼ ìŠ¤íŠœë””ì˜¤ì—ì„œ `ë¹Œë“œ - ì†”ë£¨ì…˜ë¹Œë“œ` í•´ì„œ ì»´íŒŒì¼ í•´ì¤€ í›„ 
- ì½˜í…ì¸  ë¸Œë¼ìš°ì €ì—ì„œ Fountain ì•¡í„° í´ë˜ìŠ¤ ì•„ì´ì½˜ì„ ë·°í¬íŠ¸ë¡œ ë“œë˜ê·¸ í•´ë³´ë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ìƒì„±ë˜ì–´ ë¶™ì–´ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.  

![image](https://user-images.githubusercontent.com/42318591/87282347-24d07f00-c52f-11ea-9f20-0058b8405118.png){: width="70%" height="70%"}{: .align-center}

<br>

## ğŸ”” ì•¡í„°ì™€ ì—ë””í„° ì—°ë™ 

### ğŸ“œFountain.h

```cpp
#pragma once

#include "ArenaBattle.h"
#include "EngineMinimal.h"
#include "GameFramework/Actor.h"
#include "Fountain.generated.h"

UCLASS()
class ARENABATTLE_API AFountain : public AActor
{
	GENERATED_BODY()

public:
	// Sets default values for this actor's properties
	AFountain();

protected:
	// Called when the game starts or when spawned
	virtual void BeginPlay() override;

public:
	// Called every frame
	virtual void Tick(float DeltaTime) override;

	UPROPERTY(VisibleAnywhere)
	UStaticMeshComponent *Body;

	UPROPERTY(VisibleAnywhere)
	UStaticMeshComponent *Water;
};
```

#### VisibleAnywhere

```cpp
	UPROPERTY(VisibleAnywhere)
	UStaticMeshComponent *Body;

	UPROPERTY(VisibleAnywhere)
	UStaticMeshComponent *Water;
```

> UPROPERTYì— `VisibleAnywhere` í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•´ì£¼ì–´ì•¼ <u>ì»´í¬ë„ŒíŠ¸ì˜ ë©¤ë²„ ë³€ìˆ˜ ì†ì„± ê°’ë“¤ì„ í¸ì§‘í•  ìˆ˜ ìˆë‹¤.</u>

- ì´ í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•´ì£¼ê¸° ì „ì—” ì–¸ë¦¬ì–¼ ì—”ì§„ì—ì„œ ì»´í¬ë„ŒíŠ¸ë“¤ì´ í¸ì§‘ ëª» ë˜ê²Œ ì „ë¶€ íšŒìƒ‰ ê¸€ì”¨ë¡œ ë˜ì–´ìˆê³  ë§‰í˜€ìˆì„ ê²ƒ.

#### ë¶„ìˆ˜ëŒ€ ë¹„ì£¼ì–¼ 

Fountain ì•¡í„°(ì˜¤ë¸Œì íŠ¸)ì˜ `Body`, `Water` í¬ì¸í„° ì´ë¦„ì„ ê°€ì§€ê³  ìˆëŠ” StaticMesh ì»´í¬ë„ŒíŠ¸ê°€ ê°ê° ë‘ê°œ ë¶™ì–´ìˆëŠ” ìƒíƒœë‹¤. 

1. `Body` ì»´í¬ë„ŒíŠ¸ë¥¼ ë”ë¸” í´ë¦­í•´ ì„ íƒí•˜ê³ 
2. `StaticMeshComponent` ì»´í¬ë„ŒíŠ¸ ë¶€ë¶„ì—ì„œ ë“œë¡­ë‹¤ìš´ì—ì„œ Fountain ì—ì…‹ì„ ê²€ìƒ‰í•˜ì—¬ ì—ì…‹ì„ ì„ íƒí•˜ì—¬ ì´ë ‡ê²Œ ë¶„ìˆ˜ëŒ€ê°€ ë³´ì—¬ì§€ê²Œ ë” í•œë‹¤.
  - ![image](https://user-images.githubusercontent.com/42318591/87284475-5fd3b200-c531-11ea-85f0-5d36a422c2a2.png){: width="70%" height="70%"}{: .align-center}
3. ë¶„ìˆ˜ëŒ€ê°€ ê·¸ë ¤ì§„ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
  - ![image](https://user-images.githubusercontent.com/42318591/87284516-6bbf7400-c531-11ea-94dd-ae23d5b89eac.png){: width="70%" height="70%"}{: .align-center}

#### ë¬¼ ë¹„ì£¼ì–¼

`Water`ë¥¼ ì„ íƒí•˜ê³  ìœ„ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ `StaticMeshComponent` ì»´í¬ë„ŒíŠ¸ ë¶€ë¶„ì—ì„œ ì—ì…‹ì„ ì„ íƒí•´ì¤€ë‹¤. <u>íŠ¸ëœìŠ¤í¼ì˜ ìœ„ì¹˜ z ê°’ì„ 135ë¡œ ì§€ì •í•´ ìœ„ë¡œ ëŒì–´ì˜¬ë ¤ì¤€ë‹¤.</u>

![image](https://user-images.githubusercontent.com/42318591/87284874-d53f8280-c531-11ea-9c62-2803be5dc541.png){: width="70%" height="70%"}{: .align-center}

<br>

## ğŸ”” ì•¡í„° ê¸°ëŠ¥ì˜ í™•ì¥

### SetRelativeLocation í•¨ìˆ˜

> í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ ê¸°ë³¸ Transform ê°’ì„ ì„¤ì •í•  ìˆ˜ìˆë‹¤. ì¸ìˆ˜ë¡œ `FVector` íƒ€ì…ì˜ êµ¬ì¡°ì²´ë¡œ ë„˜ê¸´ë‹¤.

#### ğŸ“œFountain.cpp
```cpp
Water->SetRelativeLocation(FVector(0.0f, 0.0f, 135.0f));
```

`Water`ì»´í¬ë„ŒíŠ¸ëŠ” `Fountain`ì•¡í„°ì˜ ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ì´ì ë¶€ëª¨ì¸ `Body`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ z ì¶•ìœ¼ë¡œ 135 ë–¨ì–´ì§„ ê³³ì— ìœ„ì¹˜í•˜ê²Œ ë  ê²ƒì´ë‹¤. ì¦‰ `Body`ë³´ë‹¤ z ì¶•ìœ¼ë¡œ 135 ë–¨ì–´ì ¸ ìˆëŠ”ê²Œ ë””í´íŠ¸ ìœ„ì¹˜. (0, 0, 135)ê°€ ê¸°ë³¸ ê°’ì´ ë¨.

### ì¡°ëª… & ë¬¼ì´ ì°°ë‘ì´ëŠ” ì´í™íŠ¸ ì¶”ê°€í•˜ê¸°

- `Fountain` ì•¡í„°ì— ì¡°ëª… & ë¬¼ì´ ì°°ë‘ì´ëŠ” ì´í™íŠ¸ ì¶”ê°€í•˜ê¸°
  - `Body`, `Water`ì™€ ë™ì¼í•˜ê²Œ
    - í¬ì¸í„°ë¡œ ì„ ì–¸í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì  í• ë‹¹ ë°›ëŠ”ë‹¤.

> **ì¡°ëª…** ğŸ‘‰ `UPointLightComponent` í´ë˜ìŠ¤(ì»´í¬ë„ŒíŠ¸) ì‚¬ìš©

> **ë¬¼ ì°°ë‘ì´ëŠ” ì´í™íŠ¸** ğŸ‘‰ `UParticleSystemComponent` í´ë˜ìŠ¤(ì»´í¬ë„ŒíŠ¸) ì‚¬ìš©

#### ğŸ“œFountain.h
- ì»´í¬ë„ŒíŠ¸ í¬ì¸í„° ì„ ì–¸ ë° ë§¤í¬ë¡œ ì„¤ì •(ê°€ë¹„ì§€ ì»¬ë ‰ì…˜ ê¸°ëŠ¥ `UPROPERTY`)

```cpp
	UPROPERTY(VisibleAnywhere)
	UStaticMeshComponent *Body;

	UPROPERTY(VisibleAnywhere)
	UStaticMeshComponent *Water;

	UPROPERTY(VisibleAnywhere)
	UPointLightComponent *Light;

	UPROPERTY(VisibleAnywhere)
	UParticleSystemComponent *Splash;
```

#### ğŸ“œFountain.cpp
- ìƒì„±ìì—ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì  í• ë‹¹ë°›ì•„ ìƒì„±í•´ì¤€ í›„ 
- ë£¨íŠ¸ ì»´í¬ë„ŒíŠ¸ì¸ `Body`ì˜ ìì‹ìœ¼ë¡œ ë„£ì–´ì£¼ì
- ì»´í¬ë„ŒíŠ¸ì˜ ê¸°ë³¸ ìœ„ì¹˜ë„ ì„¤ì •í•´ì£¼ì.

```cpp
	Body = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("BODY"));
	Water = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("WATER"));
	Light = CreateDefaultSubobject<UPointLightComponent>(TEXT("LIGHT"));
	Splash = CreateDefaultSubobject<UParticleSystemComponent>(TEXT("SPLASH"));

	RootComponent = Body;
	Water->SetupAttachment(Body);
	Light->SetupAttachment(Body);
	Splash->SetupAttachment(Body);

    Water->SetRelativeLocation(FVector(0.0f, 0.0f, 135.0f));
	Light->SetRelativeLocation(FVector(0.0f, 0.0f, 195.0f));
	Splash->SetRelativeLocation(FVector(0.0f, 0.0f, 195.0f));

```

![image](https://user-images.githubusercontent.com/42318591/87287811-81369d00-c535-11ea-9d77-6e9df6eb8049.png){: width="70%" height="70%"}{: .align-center}

- `Splash`ë¥¼ ë”ë¸” í´ë¦­í•´ ì„ íƒí•˜ê³  `Particles` ë¶€ë¶„ì—ì„œ Fountain ì´í™íŠ¸ ì—ì…‹ë¥¼ ê²€ìƒ‰í•˜ì—¬ ì¶”ê°€í•´ì¤€ë‹¤.

<br>

## ğŸ”” ê°ì²´ ìœ í˜•ê³¼ ê°’ ìœ í˜•

- ì–¸ë¦¬ì–¼ ì˜¤ë¸Œì íŠ¸ì˜ ì†ì„± ê°’
  1. ê°ì²´ë¥¼ ê´€ë¦¬í•˜ëŠ” <u>ê°ì²´ ìœ í˜•</u>
    - ëŒ€í‘œì ìœ¼ë¡œ `í¬ì¸í„°`
  2. ê°’ì„ ê´€ë¦¬í•˜ëŠ” <u>ê°’ ìœ í˜•</u>
    - ë°”ì´íŠ¸ unit8
    - ì •ìˆ˜ int32
    - ì‹¤ìˆ˜ float
    - ë¬¸ìì—´ FString, FName
    - êµ¬ì¡°ì²´ FVector, FRotator, FTransform

### ë©¤ë²„ ë³€ìˆ˜ ì¶”ê°€í•˜ê¸° 

#### ğŸ“œFountain.cpp

- `Fountain` ì•¡í„°ì— *ID* ë¼ëŠ” ì´ë¦„ì˜ <u>int32 ë°ì´í„°í˜• ë©¤ë²„ ë³€ìˆ˜ë¥¼ ì¶”ê°€.</u>
  - í”„ë¡œí¼í‹°ëŠ” VisibleAnywhereì´ ì•„ë‹Œ `EditAnywhere` ë¡œ í•´ì¤€ë‹¤.

```cpp
UPROPERTY(EditAnywhere)
int32 ID;
```

#### VisibleAnywhereê³¼ EditAnywhereì˜ ì°¨ì´

```cpp
UPROPERTY(VisibleAnywhere)
UStaticMeshComponent *Water;

UPROPERTY(VisibleAnywhere)
int32 A;

UPROPERTY(EditAnywhere)
int32 B;
```

- `VisibleAnywhere` 
  - ì´ ì†ì„±ì´ ì–¸ë¦¬ì–¼ ë””í…Œì¼ ìœˆë„ìš°ë·°ì—ì„œ ë³´ì´ì§€ë§Œ <u>í¸ì§‘ì€ í•  ìˆ˜ ì—†ë‹¤.</u>
  -  `Water` ì»´í¬ë„ŒíŠ¸ <u>í¬ì¸í„°ì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.</u>
    - ì¦‰!! `Water` í¬ì¸í„°ë¥¼ ê¸°ì¡´ì˜ UStaticMeshComponent ì»´í¬ë„ŒíŠ¸ ë§ê³  <u>ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ì£¼ì†Œ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.</u>
    - ë‹¨, ìœ„ì˜ ì˜ˆì‹œë“¤ì²˜ëŸ¼ <u>ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ë¶€ì˜ ì†ì„± ê°’ë“¤ì€ ë³€ê²½ í•  ìˆ˜ ìˆë‹¤.</u>
      - ìœ„ì—ì„œ ì—ì…‹ ì¶”ê°€í•˜ê³  Transform í¸ì§‘í–ˆë“¯ì´.
  - `A` <u>ë©¤ë²„ ë³€ìˆ˜ì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ì—†ë‹¤.</u>
    - ì–¸ë¦¬ì–¼ ë””í…Œì¼ ìœˆë„ìš°ë·°ì—ì„œ <u>ë©¤ë²„ ë³€ìˆ˜ì˜ ê°’ì„ í¸ì§‘ì€ í•  ìˆ˜ ì—†ë‹¤.</u>
- `EditAnywhere`
  - ì´ ì†ì„±ì€ ì–¸ë¦¬ì–¼ ë””í…Œì¼ ìœˆë„ìš°ë·°ì—ì„œ ë³´ì´ê³  <u>í¸ì§‘ë„ ê°€ëŠ¥í•˜ë‹¤.</u>
  - ë””í…Œì¼ì°½ì—ì„œ `B` <u>ë©¤ë²„ ë³€ìˆ˜ì˜ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.</u>
  - í¬ì¸í„°ê°€ `EditAnywhere`ì´ë©´ ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹ í¬ì¸í„°ê°€ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ë¦¬í‚¤ë„ë¡ ë³€ê²½í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

<br>

## ğŸ“œ ìµœì¢… ì½”ë“œ

### ğŸ“œFountain.h

```cpp
// Fill out your copyright notice in the Description page of Project Settings.

#pragma once

#include "ArenaBattle.h"
#include "GameFramework/Actor.h"
#include "Fountain.generated.h"

UCLASS()
class ARENABATTLE_API AFountain : public AActor
{
	GENERATED_BODY()
	
public:	
	// Sets default values for this actor's properties
	AFountain();

protected:
	// Called when the game starts or when spawned
	virtual void BeginPlay() override;

public:	
	// Called every frame
	virtual void Tick(float DeltaTime) override;

	UPROPERTY(VisibleAnywhere)
	UStaticMeshComponent *Body;

	UPROPERTY(VisibleAnywhere)
	UStaticMeshComponent *Water;

	UPROPERTY(VisibleAnywhere)
	UPointLightComponent *Light;

	UPROPERTY(VisibleAnywhere)
	UParticleSystemComponent *Splash;

	UPROPERTY(EditAnywhere, Category=ID)
	int32 ID;
};

```

### ğŸ“œFountain.cpp

```cpp
// Fill out your copyright notice in the Description page of Project Settings.

#include "Fountain.h"


// Sets default values
AFountain::AFountain()
{
 	// Set this actor to call Tick() every frame.  You can turn this off to improve performance if you don't need it.
	PrimaryActorTick.bCanEverTick = true;

	Body = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("BODY"));
	Water = CreateDefaultSubobject<UStaticMeshComponent>(TEXT("WATER"));
	Light = CreateDefaultSubobject<UPointLightComponent>(TEXT("LIGHT"));
	Splash = CreateDefaultSubobject<UParticleSystemComponent>(TEXT("SPLASH"));

	RootComponent = Body;
	Water->SetupAttachment(Body);
	Light->SetupAttachment(Body);
	Splash->SetupAttachment(Body);

	Water->SetRelativeLocation(FVector(0.0f, 0.0f, 135.0f));
	Light->SetRelativeLocation(FVector(0.0f, 0.0f, 195.0f));
	Splash->SetRelativeLocation(FVector(0.0f, 0.0f, 195.0f));

	static ConstructorHelpers::FObjectFinder<UStaticMesh> SM_BODY(TEXT("/Game/InfinityBladeGrassLands/Environments/Plains/Env_Plains_Ruins/StaticMesh/SM_Plains_Castle_Fountain_01.SM_Plains_Castle_Fountain_01"));

	if (SM_BODY.Succeeded())
	{
		Body->SetStaticMesh(SM_BODY.Object);
	}

	static ConstructorHelpers::FObjectFinder<UStaticMesh> SM_WATER(TEXT("/Game/InfinityBladeGrassLands/Effects/FX_Meshes/Env/SM_Plains_Fountain_02.SM_Plains_Fountain_02"));
	
	if (SM_WATER.Succeeded())
	{
		Water->SetStaticMesh(SM_WATER.Object);
	}

	static ConstructorHelpers::FObjectFinder<UParticleSystem> PS_SPLASH(TEXT("/Game/InfinityBladeGrassLands/Effects/FX_Ambient/Water/P_Water_Fountain_Splash_Base_01.P_Water_Fountain_Splash_Base_01"));

	if (PS_SPLASH.Succeeded())
	{
		Splash->SetTemplate(PS_SPLASH.Object);
	}
}

// Called when the game starts or when spawned
void AFountain::BeginPlay()
{
	Super::BeginPlay();

}

// Called every frame
void AFountain::Tick(float DeltaTime)
{
	Super::Tick(DeltaTime);

}
```

***
<br>

    ğŸŒœ ê°œì¸ ê³µë¶€ ê¸°ë¡ìš© ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. ì˜¤ë¥˜ë‚˜ í‹€ë¦° ë¶€ë¶„ì´ ìˆì„ ê²½ìš° 
    ì–¸ì œë“ ì§€ ëŒ“ê¸€ í˜¹ì€ ë©”ì¼ë¡œ ì§€ì í•´ì£¼ì‹œë©´ ê°ì‚¬í•˜ê² ìŠµë‹ˆë‹¤! ğŸ˜„

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}